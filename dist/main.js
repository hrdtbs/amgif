var yf=Object.create;var cn=Object.defineProperty;var bf=Object.getOwnPropertyDescriptor;var gf=Object.getOwnPropertyNames,ws=Object.getOwnPropertySymbols,Sf=Object.getPrototypeOf,Es=Object.prototype.hasOwnProperty,_f=Object.prototype.propertyIsEnumerable;var Rs=(t,e,n)=>e in t?cn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,me=(t,e)=>{for(var n in e||(e={}))Es.call(e,n)&&Rs(t,n,e[n]);if(ws)for(var n of ws(e))_f.call(e,n)&&Rs(t,n,e[n]);return t};var hr=(t,e)=>()=>(t&&(e=t(t=0)),e);var A=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),wf=(t,e)=>{for(var n in e)cn(t,n,{get:e[n],enumerable:!0})},Rf=(t,e,n,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of gf(e))!Es.call(t,s)&&s!==n&&cn(t,s,{get:()=>e[s],enumerable:!(i=bf(e,s))||i.enumerable});return t};var Fe=(t,e,n)=>(n=t!=null?yf(Sf(t)):{},Rf(e||!t||!t.__esModule?cn(n,"default",{value:t,enumerable:!0}):n,t));var Ps=A((fn,Ts)=>{(function(t,e){typeof fn=="object"&&typeof Ts<"u"?e(fn):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.WebStreamsPolyfill={}))})(fn,function(t){"use strict";let e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:r=>`Symbol(${r})`;function n(){}function i(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}let s=i();function a(r){return typeof r=="object"&&r!==null||typeof r=="function"}let l=n,f=Promise,m=Promise.prototype.then,p=Promise.resolve.bind(f),d=Promise.reject.bind(f);function y(r){return new f(r)}function S(r){return p(r)}function b(r){return d(r)}function g(r,o,u){return m.call(r,o,u)}function P(r,o,u){g(g(r,o,u),void 0,l)}function E(r,o){P(r,o)}function T(r,o){P(r,void 0,o)}function D(r,o,u){return g(r,o,u)}function M(r){g(r,void 0,l)}let F=(()=>{let r=s&&s.queueMicrotask;if(typeof r=="function")return r;let o=S(void 0);return u=>g(o,u)})();function J(r,o,u){if(typeof r!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(r,o,u)}function W(r,o,u){try{return S(J(r,o,u))}catch(c){return b(c)}}let xe=16384;class oe{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(o){let u=this._back,c=u;u._elements.length===xe-1&&(c={_elements:[],_next:void 0}),u._elements.push(o),c!==u&&(this._back=c,u._next=c),++this._size}shift(){let o=this._front,u=o,c=this._cursor,h=c+1,_=o._elements,w=_[c];return h===xe&&(u=o._next,h=0),--this._size,this._cursor=h,o!==u&&(this._front=u),_[c]=void 0,w}forEach(o){let u=this._cursor,c=this._front,h=c._elements;for(;(u!==h.length||c._next!==void 0)&&!(u===h.length&&(c=c._next,h=c._elements,u=0,h.length===0));)o(h[u]),++u}peek(){let o=this._front,u=this._cursor;return o._elements[u]}}function O(r,o){r._ownerReadableStream=o,o._reader=r,o._state==="readable"?X(r):o._state==="closed"?G(r):Z(r,o._storedError)}function I(r,o){let u=r._ownerReadableStream;return qe(u,o)}function k(r){r._ownerReadableStream._state==="readable"?H(r,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):j(r,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),r._ownerReadableStream._reader=void 0,r._ownerReadableStream=void 0}function Q(r){return new TypeError("Cannot "+r+" a stream using a released reader")}function X(r){r._closedPromise=y((o,u)=>{r._closedPromise_resolve=o,r._closedPromise_reject=u})}function Z(r,o){X(r),H(r,o)}function G(r){X(r),ee(r)}function H(r,o){r._closedPromise_reject!==void 0&&(M(r._closedPromise),r._closedPromise_reject(o),r._closedPromise_resolve=void 0,r._closedPromise_reject=void 0)}function j(r,o){Z(r,o)}function ee(r){r._closedPromise_resolve!==void 0&&(r._closedPromise_resolve(void 0),r._closedPromise_resolve=void 0,r._closedPromise_reject=void 0)}let U=e("[[AbortSteps]]"),Vn=e("[[ErrorSteps]]"),Yn=e("[[CancelSteps]]"),Gn=e("[[PullSteps]]"),co=Number.isFinite||function(r){return typeof r=="number"&&isFinite(r)},Vl=Math.trunc||function(r){return r<0?Math.ceil(r):Math.floor(r)};function Yl(r){return typeof r=="object"||typeof r=="function"}function ze(r,o){if(r!==void 0&&!Yl(r))throw new TypeError(`${o} is not an object.`)}function Oe(r,o){if(typeof r!="function")throw new TypeError(`${o} is not a function.`)}function Gl(r){return typeof r=="object"&&r!==null||typeof r=="function"}function fo(r,o){if(!Gl(r))throw new TypeError(`${o} is not an object.`)}function He(r,o,u){if(r===void 0)throw new TypeError(`Parameter ${o} is required in '${u}'.`)}function Qn(r,o,u){if(r===void 0)throw new TypeError(`${o} is required in '${u}'.`)}function Jn(r){return Number(r)}function ho(r){return r===0?0:r}function Ql(r){return ho(Vl(r))}function mo(r,o){let c=Number.MAX_SAFE_INTEGER,h=Number(r);if(h=ho(h),!co(h))throw new TypeError(`${o} is not a finite number`);if(h=Ql(h),h<0||h>c)throw new TypeError(`${o} is outside the accepted range of ${0} to ${c}, inclusive`);return!co(h)||h===0?0:h}function Kn(r,o){if(!nt(r))throw new TypeError(`${o} is not a ReadableStream.`)}function Ot(r){return new Xt(r)}function po(r,o){r._reader._readRequests.push(o)}function Xn(r,o,u){let h=r._reader._readRequests.shift();u?h._closeSteps():h._chunkSteps(o)}function qr(r){return r._reader._readRequests.length}function yo(r){let o=r._reader;return!(o===void 0||!Ze(o))}class Xt{constructor(o){if(He(o,1,"ReadableStreamDefaultReader"),Kn(o,"First parameter"),it(o))throw new TypeError("This stream has already been locked for exclusive reading by another reader");O(this,o),this._readRequests=new oe}get closed(){return Ze(this)?this._closedPromise:b(Dr("closed"))}cancel(o=void 0){return Ze(this)?this._ownerReadableStream===void 0?b(Q("cancel")):I(this,o):b(Dr("cancel"))}read(){if(!Ze(this))return b(Dr("read"));if(this._ownerReadableStream===void 0)return b(Q("read from"));let o,u,c=y((_,w)=>{o=_,u=w});return Zt(this,{_chunkSteps:_=>o({value:_,done:!1}),_closeSteps:()=>o({value:void 0,done:!0}),_errorSteps:_=>u(_)}),c}releaseLock(){if(!Ze(this))throw Dr("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");k(this)}}}Object.defineProperties(Xt.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(Xt.prototype,e.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});function Ze(r){return!a(r)||!Object.prototype.hasOwnProperty.call(r,"_readRequests")?!1:r instanceof Xt}function Zt(r,o){let u=r._ownerReadableStream;u._disturbed=!0,u._state==="closed"?o._closeSteps():u._state==="errored"?o._errorSteps(u._storedError):u._readableStreamController[Gn](o)}function Dr(r){return new TypeError(`ReadableStreamDefaultReader.prototype.${r} can only be used on a ReadableStreamDefaultReader`)}let bo=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype);class go{constructor(o,u){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=o,this._preventCancel=u}next(){let o=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?D(this._ongoingPromise,o,o):o(),this._ongoingPromise}return(o){let u=()=>this._returnSteps(o);return this._ongoingPromise?D(this._ongoingPromise,u,u):u()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});let o=this._reader;if(o._ownerReadableStream===void 0)return b(Q("iterate"));let u,c,h=y((w,R)=>{u=w,c=R});return Zt(o,{_chunkSteps:w=>{this._ongoingPromise=void 0,F(()=>u({value:w,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,k(o),u({value:void 0,done:!0})},_errorSteps:w=>{this._ongoingPromise=void 0,this._isFinished=!0,k(o),c(w)}}),h}_returnSteps(o){if(this._isFinished)return Promise.resolve({value:o,done:!0});this._isFinished=!0;let u=this._reader;if(u._ownerReadableStream===void 0)return b(Q("finish iterating"));if(!this._preventCancel){let c=I(u,o);return k(u),D(c,()=>({value:o,done:!0}))}return k(u),S({value:o,done:!0})}}let So={next(){return _o(this)?this._asyncIteratorImpl.next():b(wo("next"))},return(r){return _o(this)?this._asyncIteratorImpl.return(r):b(wo("return"))}};bo!==void 0&&Object.setPrototypeOf(So,bo);function Jl(r,o){let u=Ot(r),c=new go(u,o),h=Object.create(So);return h._asyncIteratorImpl=c,h}function _o(r){if(!a(r)||!Object.prototype.hasOwnProperty.call(r,"_asyncIteratorImpl"))return!1;try{return r._asyncIteratorImpl instanceof go}catch{return!1}}function wo(r){return new TypeError(`ReadableStreamAsyncIterator.${r} can only be used on a ReadableSteamAsyncIterator`)}let Ro=Number.isNaN||function(r){return r!==r};function er(r){return r.slice()}function Eo(r,o,u,c,h){new Uint8Array(r).set(new Uint8Array(u,c,h),o)}function lp(r){return r}function Fr(r){return!1}function vo(r,o,u){if(r.slice)return r.slice(o,u);let c=u-o,h=new ArrayBuffer(c);return Eo(h,0,r,o,c),h}function Kl(r){return!(typeof r!="number"||Ro(r)||r<0)}function To(r){let o=vo(r.buffer,r.byteOffset,r.byteOffset+r.byteLength);return new Uint8Array(o)}function Zn(r){let o=r._queue.shift();return r._queueTotalSize-=o.size,r._queueTotalSize<0&&(r._queueTotalSize=0),o.value}function ei(r,o,u){if(!Kl(u)||u===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");r._queue.push({value:o,size:u}),r._queueTotalSize+=u}function Xl(r){return r._queue.peek().value}function et(r){r._queue=new oe,r._queueTotalSize=0}class tr{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!ti(this))throw oi("view");return this._view}respond(o){if(!ti(this))throw oi("respond");if(He(o,1,"respond"),o=mo(o,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");Fr(this._view.buffer),xr(this._associatedReadableByteStreamController,o)}respondWithNewView(o){if(!ti(this))throw oi("respondWithNewView");if(He(o,1,"respondWithNewView"),!ArrayBuffer.isView(o))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");Fr(o.buffer),Nr(this._associatedReadableByteStreamController,o)}}Object.defineProperties(tr.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(tr.prototype,e.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class kt{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!yt(this))throw nr("byobRequest");return ii(this)}get desiredSize(){if(!yt(this))throw nr("desiredSize");return Fo(this)}close(){if(!yt(this))throw nr("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");let o=this._controlledReadableByteStream._state;if(o!=="readable")throw new TypeError(`The stream (in ${o} state) is not in the readable state and cannot be closed`);rr(this)}enqueue(o){if(!yt(this))throw nr("enqueue");if(He(o,1,"enqueue"),!ArrayBuffer.isView(o))throw new TypeError("chunk must be an array buffer view");if(o.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(o.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");let u=this._controlledReadableByteStream._state;if(u!=="readable")throw new TypeError(`The stream (in ${u} state) is not in the readable state and cannot be enqueued to`);Wr(this,o)}error(o=void 0){if(!yt(this))throw nr("error");ke(this,o)}[Yn](o){Po(this),et(this);let u=this._cancelAlgorithm(o);return Ir(this),u}[Gn](o){let u=this._controlledReadableByteStream;if(this._queueTotalSize>0){let h=this._queue.shift();this._queueTotalSize-=h.byteLength,ko(this);let _=new Uint8Array(h.buffer,h.byteOffset,h.byteLength);o._chunkSteps(_);return}let c=this._autoAllocateChunkSize;if(c!==void 0){let h;try{h=new ArrayBuffer(c)}catch(w){o._errorSteps(w);return}let _={buffer:h,bufferByteLength:c,byteOffset:0,byteLength:c,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(_)}po(u,o),bt(this)}}Object.defineProperties(kt.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(kt.prototype,e.toStringTag,{value:"ReadableByteStreamController",configurable:!0});function yt(r){return!a(r)||!Object.prototype.hasOwnProperty.call(r,"_controlledReadableByteStream")?!1:r instanceof kt}function ti(r){return!a(r)||!Object.prototype.hasOwnProperty.call(r,"_associatedReadableByteStreamController")?!1:r instanceof tr}function bt(r){if(!rc(r))return;if(r._pulling){r._pullAgain=!0;return}r._pulling=!0;let u=r._pullAlgorithm();P(u,()=>{r._pulling=!1,r._pullAgain&&(r._pullAgain=!1,bt(r))},c=>{ke(r,c)})}function Po(r){ni(r),r._pendingPullIntos=new oe}function ri(r,o){let u=!1;r._state==="closed"&&(u=!0);let c=Co(o);o.readerType==="default"?Xn(r,c,u):oc(r,c,u)}function Co(r){let o=r.bytesFilled,u=r.elementSize;return new r.viewConstructor(r.buffer,r.byteOffset,o/u)}function Br(r,o,u,c){r._queue.push({buffer:o,byteOffset:u,byteLength:c}),r._queueTotalSize+=c}function Ao(r,o){let u=o.elementSize,c=o.bytesFilled-o.bytesFilled%u,h=Math.min(r._queueTotalSize,o.byteLength-o.bytesFilled),_=o.bytesFilled+h,w=_-_%u,R=h,q=!1;w>c&&(R=w-o.bytesFilled,q=!0);let L=r._queue;for(;R>0;){let x=L.peek(),N=Math.min(R,x.byteLength),te=o.byteOffset+o.bytesFilled;Eo(o.buffer,te,x.buffer,x.byteOffset,N),x.byteLength===N?L.shift():(x.byteOffset+=N,x.byteLength-=N),r._queueTotalSize-=N,Oo(r,N,o),R-=N}return q}function Oo(r,o,u){u.bytesFilled+=o}function ko(r){r._queueTotalSize===0&&r._closeRequested?(Ir(r),fr(r._controlledReadableByteStream)):bt(r)}function ni(r){r._byobRequest!==null&&(r._byobRequest._associatedReadableByteStreamController=void 0,r._byobRequest._view=null,r._byobRequest=null)}function qo(r){for(;r._pendingPullIntos.length>0;){if(r._queueTotalSize===0)return;let o=r._pendingPullIntos.peek();Ao(r,o)&&(Lr(r),ri(r._controlledReadableByteStream,o))}}function Zl(r,o,u){let c=r._controlledReadableByteStream,h=1;o.constructor!==DataView&&(h=o.constructor.BYTES_PER_ELEMENT);let _=o.constructor,w=o.buffer,R={buffer:w,bufferByteLength:w.byteLength,byteOffset:o.byteOffset,byteLength:o.byteLength,bytesFilled:0,elementSize:h,viewConstructor:_,readerType:"byob"};if(r._pendingPullIntos.length>0){r._pendingPullIntos.push(R),Io(c,u);return}if(c._state==="closed"){let q=new _(R.buffer,R.byteOffset,0);u._closeSteps(q);return}if(r._queueTotalSize>0){if(Ao(r,R)){let q=Co(R);ko(r),u._chunkSteps(q);return}if(r._closeRequested){let q=new TypeError("Insufficient bytes to fill elements in the given buffer");ke(r,q),u._errorSteps(q);return}}r._pendingPullIntos.push(R),Io(c,u),bt(r)}function ec(r,o){let u=r._controlledReadableByteStream;if(si(u))for(;Wo(u)>0;){let c=Lr(r);ri(u,c)}}function tc(r,o,u){if(Oo(r,o,u),u.bytesFilled<u.elementSize)return;Lr(r);let c=u.bytesFilled%u.elementSize;if(c>0){let h=u.byteOffset+u.bytesFilled,_=vo(u.buffer,h-c,h);Br(r,_,0,_.byteLength)}u.bytesFilled-=c,ri(r._controlledReadableByteStream,u),qo(r)}function Do(r,o){let u=r._pendingPullIntos.peek();ni(r),r._controlledReadableByteStream._state==="closed"?ec(r):tc(r,o,u),bt(r)}function Lr(r){return r._pendingPullIntos.shift()}function rc(r){let o=r._controlledReadableByteStream;return o._state!=="readable"||r._closeRequested||!r._started?!1:!!(yo(o)&&qr(o)>0||si(o)&&Wo(o)>0||Fo(r)>0)}function Ir(r){r._pullAlgorithm=void 0,r._cancelAlgorithm=void 0}function rr(r){let o=r._controlledReadableByteStream;if(!(r._closeRequested||o._state!=="readable")){if(r._queueTotalSize>0){r._closeRequested=!0;return}if(r._pendingPullIntos.length>0&&r._pendingPullIntos.peek().bytesFilled>0){let c=new TypeError("Insufficient bytes to fill elements in the given buffer");throw ke(r,c),c}Ir(r),fr(o)}}function Wr(r,o){let u=r._controlledReadableByteStream;if(r._closeRequested||u._state!=="readable")return;let c=o.buffer,h=o.byteOffset,_=o.byteLength,w=c;if(r._pendingPullIntos.length>0){let R=r._pendingPullIntos.peek();Fr(R.buffer),R.buffer=R.buffer}if(ni(r),yo(u))if(qr(u)===0)Br(r,w,h,_);else{r._pendingPullIntos.length>0&&Lr(r);let R=new Uint8Array(w,h,_);Xn(u,R,!1)}else si(u)?(Br(r,w,h,_),qo(r)):Br(r,w,h,_);bt(r)}function ke(r,o){let u=r._controlledReadableByteStream;u._state==="readable"&&(Po(r),et(r),Ir(r),as(u,o))}function ii(r){if(r._byobRequest===null&&r._pendingPullIntos.length>0){let o=r._pendingPullIntos.peek(),u=new Uint8Array(o.buffer,o.byteOffset+o.bytesFilled,o.byteLength-o.bytesFilled),c=Object.create(tr.prototype);ic(c,r,u),r._byobRequest=c}return r._byobRequest}function Fo(r){let o=r._controlledReadableByteStream._state;return o==="errored"?null:o==="closed"?0:r._strategyHWM-r._queueTotalSize}function xr(r,o){let u=r._pendingPullIntos.peek();if(r._controlledReadableByteStream._state==="closed"){if(o!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(o===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(u.bytesFilled+o>u.byteLength)throw new RangeError("bytesWritten out of range")}u.buffer=u.buffer,Do(r,o)}function Nr(r,o){let u=r._pendingPullIntos.peek();if(r._controlledReadableByteStream._state==="closed"){if(o.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(o.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(u.byteOffset+u.bytesFilled!==o.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(u.bufferByteLength!==o.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(u.bytesFilled+o.byteLength>u.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");let h=o.byteLength;u.buffer=o.buffer,Do(r,h)}function Bo(r,o,u,c,h,_,w){o._controlledReadableByteStream=r,o._pullAgain=!1,o._pulling=!1,o._byobRequest=null,o._queue=o._queueTotalSize=void 0,et(o),o._closeRequested=!1,o._started=!1,o._strategyHWM=_,o._pullAlgorithm=c,o._cancelAlgorithm=h,o._autoAllocateChunkSize=w,o._pendingPullIntos=new oe,r._readableStreamController=o;let R=u();P(S(R),()=>{o._started=!0,bt(o)},q=>{ke(o,q)})}function nc(r,o,u){let c=Object.create(kt.prototype),h=()=>{},_=()=>S(void 0),w=()=>S(void 0);o.start!==void 0&&(h=()=>o.start(c)),o.pull!==void 0&&(_=()=>o.pull(c)),o.cancel!==void 0&&(w=q=>o.cancel(q));let R=o.autoAllocateChunkSize;if(R===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");Bo(r,c,h,_,w,u,R)}function ic(r,o,u){r._associatedReadableByteStreamController=o,r._view=u}function oi(r){return new TypeError(`ReadableStreamBYOBRequest.prototype.${r} can only be used on a ReadableStreamBYOBRequest`)}function nr(r){return new TypeError(`ReadableByteStreamController.prototype.${r} can only be used on a ReadableByteStreamController`)}function Lo(r){return new ir(r)}function Io(r,o){r._reader._readIntoRequests.push(o)}function oc(r,o,u){let h=r._reader._readIntoRequests.shift();u?h._closeSteps(o):h._chunkSteps(o)}function Wo(r){return r._reader._readIntoRequests.length}function si(r){let o=r._reader;return!(o===void 0||!gt(o))}class ir{constructor(o){if(He(o,1,"ReadableStreamBYOBReader"),Kn(o,"First parameter"),it(o))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!yt(o._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");O(this,o),this._readIntoRequests=new oe}get closed(){return gt(this)?this._closedPromise:b(Mr("closed"))}cancel(o=void 0){return gt(this)?this._ownerReadableStream===void 0?b(Q("cancel")):I(this,o):b(Mr("cancel"))}read(o){if(!gt(this))return b(Mr("read"));if(!ArrayBuffer.isView(o))return b(new TypeError("view must be an array buffer view"));if(o.byteLength===0)return b(new TypeError("view must have non-zero byteLength"));if(o.buffer.byteLength===0)return b(new TypeError("view's buffer must have non-zero byteLength"));if(Fr(o.buffer),this._ownerReadableStream===void 0)return b(Q("read from"));let u,c,h=y((w,R)=>{u=w,c=R});return xo(this,o,{_chunkSteps:w=>u({value:w,done:!1}),_closeSteps:w=>u({value:w,done:!0}),_errorSteps:w=>c(w)}),h}releaseLock(){if(!gt(this))throw Mr("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");k(this)}}}Object.defineProperties(ir.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(ir.prototype,e.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});function gt(r){return!a(r)||!Object.prototype.hasOwnProperty.call(r,"_readIntoRequests")?!1:r instanceof ir}function xo(r,o,u){let c=r._ownerReadableStream;c._disturbed=!0,c._state==="errored"?u._errorSteps(c._storedError):Zl(c._readableStreamController,o,u)}function Mr(r){return new TypeError(`ReadableStreamBYOBReader.prototype.${r} can only be used on a ReadableStreamBYOBReader`)}function or(r,o){let{highWaterMark:u}=r;if(u===void 0)return o;if(Ro(u)||u<0)throw new RangeError("Invalid highWaterMark");return u}function $r(r){let{size:o}=r;return o||(()=>1)}function jr(r,o){ze(r,o);let u=r==null?void 0:r.highWaterMark,c=r==null?void 0:r.size;return{highWaterMark:u===void 0?void 0:Jn(u),size:c===void 0?void 0:sc(c,`${o} has member 'size' that`)}}function sc(r,o){return Oe(r,o),u=>Jn(r(u))}function ac(r,o){ze(r,o);let u=r==null?void 0:r.abort,c=r==null?void 0:r.close,h=r==null?void 0:r.start,_=r==null?void 0:r.type,w=r==null?void 0:r.write;return{abort:u===void 0?void 0:uc(u,r,`${o} has member 'abort' that`),close:c===void 0?void 0:lc(c,r,`${o} has member 'close' that`),start:h===void 0?void 0:cc(h,r,`${o} has member 'start' that`),write:w===void 0?void 0:fc(w,r,`${o} has member 'write' that`),type:_}}function uc(r,o,u){return Oe(r,u),c=>W(r,o,[c])}function lc(r,o,u){return Oe(r,u),()=>W(r,o,[])}function cc(r,o,u){return Oe(r,u),c=>J(r,o,[c])}function fc(r,o,u){return Oe(r,u),(c,h)=>W(r,o,[c,h])}function No(r,o){if(!qt(r))throw new TypeError(`${o} is not a WritableStream.`)}function dc(r){if(typeof r!="object"||r===null)return!1;try{return typeof r.aborted=="boolean"}catch{return!1}}let hc=typeof AbortController=="function";function mc(){if(hc)return new AbortController}class sr{constructor(o={},u={}){o===void 0?o=null:fo(o,"First parameter");let c=jr(u,"Second parameter"),h=ac(o,"First parameter");if($o(this),h.type!==void 0)throw new RangeError("Invalid type is specified");let w=$r(c),R=or(c,1);Ac(this,h,R,w)}get locked(){if(!qt(this))throw Yr("locked");return Dt(this)}abort(o=void 0){return qt(this)?Dt(this)?b(new TypeError("Cannot abort a stream that already has a writer")):Ur(this,o):b(Yr("abort"))}close(){return qt(this)?Dt(this)?b(new TypeError("Cannot close a stream that already has a writer")):Ne(this)?b(new TypeError("Cannot close an already-closing stream")):jo(this):b(Yr("close"))}getWriter(){if(!qt(this))throw Yr("getWriter");return Mo(this)}}Object.defineProperties(sr.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(sr.prototype,e.toStringTag,{value:"WritableStream",configurable:!0});function Mo(r){return new ar(r)}function pc(r,o,u,c,h=1,_=()=>1){let w=Object.create(sr.prototype);$o(w);let R=Object.create(Ft.prototype);return Go(w,R,r,o,u,c,h,_),w}function $o(r){r._state="writable",r._storedError=void 0,r._writer=void 0,r._writableStreamController=void 0,r._writeRequests=new oe,r._inFlightWriteRequest=void 0,r._closeRequest=void 0,r._inFlightCloseRequest=void 0,r._pendingAbortRequest=void 0,r._backpressure=!1}function qt(r){return!a(r)||!Object.prototype.hasOwnProperty.call(r,"_writableStreamController")?!1:r instanceof sr}function Dt(r){return r._writer!==void 0}function Ur(r,o){var u;if(r._state==="closed"||r._state==="errored")return S(void 0);r._writableStreamController._abortReason=o,(u=r._writableStreamController._abortController)===null||u===void 0||u.abort();let c=r._state;if(c==="closed"||c==="errored")return S(void 0);if(r._pendingAbortRequest!==void 0)return r._pendingAbortRequest._promise;let h=!1;c==="erroring"&&(h=!0,o=void 0);let _=y((w,R)=>{r._pendingAbortRequest={_promise:void 0,_resolve:w,_reject:R,_reason:o,_wasAlreadyErroring:h}});return r._pendingAbortRequest._promise=_,h||ui(r,o),_}function jo(r){let o=r._state;if(o==="closed"||o==="errored")return b(new TypeError(`The stream (in ${o} state) is not in the writable state and cannot be closed`));let u=y((h,_)=>{let w={_resolve:h,_reject:_};r._closeRequest=w}),c=r._writer;return c!==void 0&&r._backpressure&&o==="writable"&&bi(c),Oc(r._writableStreamController),u}function yc(r){return y((u,c)=>{let h={_resolve:u,_reject:c};r._writeRequests.push(h)})}function ai(r,o){if(r._state==="writable"){ui(r,o);return}li(r)}function ui(r,o){let u=r._writableStreamController;r._state="erroring",r._storedError=o;let c=r._writer;c!==void 0&&zo(c,o),!wc(r)&&u._started&&li(r)}function li(r){r._state="errored",r._writableStreamController[Vn]();let o=r._storedError;if(r._writeRequests.forEach(h=>{h._reject(o)}),r._writeRequests=new oe,r._pendingAbortRequest===void 0){zr(r);return}let u=r._pendingAbortRequest;if(r._pendingAbortRequest=void 0,u._wasAlreadyErroring){u._reject(o),zr(r);return}let c=r._writableStreamController[U](u._reason);P(c,()=>{u._resolve(),zr(r)},h=>{u._reject(h),zr(r)})}function bc(r){r._inFlightWriteRequest._resolve(void 0),r._inFlightWriteRequest=void 0}function gc(r,o){r._inFlightWriteRequest._reject(o),r._inFlightWriteRequest=void 0,ai(r,o)}function Sc(r){r._inFlightCloseRequest._resolve(void 0),r._inFlightCloseRequest=void 0,r._state==="erroring"&&(r._storedError=void 0,r._pendingAbortRequest!==void 0&&(r._pendingAbortRequest._resolve(),r._pendingAbortRequest=void 0)),r._state="closed";let u=r._writer;u!==void 0&&Xo(u)}function _c(r,o){r._inFlightCloseRequest._reject(o),r._inFlightCloseRequest=void 0,r._pendingAbortRequest!==void 0&&(r._pendingAbortRequest._reject(o),r._pendingAbortRequest=void 0),ai(r,o)}function Ne(r){return!(r._closeRequest===void 0&&r._inFlightCloseRequest===void 0)}function wc(r){return!(r._inFlightWriteRequest===void 0&&r._inFlightCloseRequest===void 0)}function Rc(r){r._inFlightCloseRequest=r._closeRequest,r._closeRequest=void 0}function Ec(r){r._inFlightWriteRequest=r._writeRequests.shift()}function zr(r){r._closeRequest!==void 0&&(r._closeRequest._reject(r._storedError),r._closeRequest=void 0);let o=r._writer;o!==void 0&&pi(o,r._storedError)}function ci(r,o){let u=r._writer;u!==void 0&&o!==r._backpressure&&(o?Ic(u):bi(u)),r._backpressure=o}class ar{constructor(o){if(He(o,1,"WritableStreamDefaultWriter"),No(o,"First parameter"),Dt(o))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=o,o._writer=this;let u=o._state;if(u==="writable")!Ne(o)&&o._backpressure?Qr(this):Zo(this),Gr(this);else if(u==="erroring")yi(this,o._storedError),Gr(this);else if(u==="closed")Zo(this),Bc(this);else{let c=o._storedError;yi(this,c),Ko(this,c)}}get closed(){return St(this)?this._closedPromise:b(_t("closed"))}get desiredSize(){if(!St(this))throw _t("desiredSize");if(this._ownerWritableStream===void 0)throw ur("desiredSize");return Cc(this)}get ready(){return St(this)?this._readyPromise:b(_t("ready"))}abort(o=void 0){return St(this)?this._ownerWritableStream===void 0?b(ur("abort")):vc(this,o):b(_t("abort"))}close(){if(!St(this))return b(_t("close"));let o=this._ownerWritableStream;return o===void 0?b(ur("close")):Ne(o)?b(new TypeError("Cannot close an already-closing stream")):Uo(this)}releaseLock(){if(!St(this))throw _t("releaseLock");this._ownerWritableStream!==void 0&&Ho(this)}write(o=void 0){return St(this)?this._ownerWritableStream===void 0?b(ur("write to")):Vo(this,o):b(_t("write"))}}Object.defineProperties(ar.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(ar.prototype,e.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});function St(r){return!a(r)||!Object.prototype.hasOwnProperty.call(r,"_ownerWritableStream")?!1:r instanceof ar}function vc(r,o){let u=r._ownerWritableStream;return Ur(u,o)}function Uo(r){let o=r._ownerWritableStream;return jo(o)}function Tc(r){let o=r._ownerWritableStream,u=o._state;return Ne(o)||u==="closed"?S(void 0):u==="errored"?b(o._storedError):Uo(r)}function Pc(r,o){r._closedPromiseState==="pending"?pi(r,o):Lc(r,o)}function zo(r,o){r._readyPromiseState==="pending"?es(r,o):Wc(r,o)}function Cc(r){let o=r._ownerWritableStream,u=o._state;return u==="errored"||u==="erroring"?null:u==="closed"?0:Qo(o._writableStreamController)}function Ho(r){let o=r._ownerWritableStream,u=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");zo(r,u),Pc(r,u),o._writer=void 0,r._ownerWritableStream=void 0}function Vo(r,o){let u=r._ownerWritableStream,c=u._writableStreamController,h=kc(c,o);if(u!==r._ownerWritableStream)return b(ur("write to"));let _=u._state;if(_==="errored")return b(u._storedError);if(Ne(u)||_==="closed")return b(new TypeError("The stream is closing or closed and cannot be written to"));if(_==="erroring")return b(u._storedError);let w=yc(u);return qc(c,o,h),w}let Yo={};class Ft{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!fi(this))throw mi("abortReason");return this._abortReason}get signal(){if(!fi(this))throw mi("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(o=void 0){if(!fi(this))throw mi("error");this._controlledWritableStream._state==="writable"&&Jo(this,o)}[U](o){let u=this._abortAlgorithm(o);return Hr(this),u}[Vn](){et(this)}}Object.defineProperties(Ft.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(Ft.prototype,e.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});function fi(r){return!a(r)||!Object.prototype.hasOwnProperty.call(r,"_controlledWritableStream")?!1:r instanceof Ft}function Go(r,o,u,c,h,_,w,R){o._controlledWritableStream=r,r._writableStreamController=o,o._queue=void 0,o._queueTotalSize=void 0,et(o),o._abortReason=void 0,o._abortController=mc(),o._started=!1,o._strategySizeAlgorithm=R,o._strategyHWM=w,o._writeAlgorithm=c,o._closeAlgorithm=h,o._abortAlgorithm=_;let q=hi(o);ci(r,q);let L=u(),x=S(L);P(x,()=>{o._started=!0,Vr(o)},N=>{o._started=!0,ai(r,N)})}function Ac(r,o,u,c){let h=Object.create(Ft.prototype),_=()=>{},w=()=>S(void 0),R=()=>S(void 0),q=()=>S(void 0);o.start!==void 0&&(_=()=>o.start(h)),o.write!==void 0&&(w=L=>o.write(L,h)),o.close!==void 0&&(R=()=>o.close()),o.abort!==void 0&&(q=L=>o.abort(L)),Go(r,h,_,w,R,q,u,c)}function Hr(r){r._writeAlgorithm=void 0,r._closeAlgorithm=void 0,r._abortAlgorithm=void 0,r._strategySizeAlgorithm=void 0}function Oc(r){ei(r,Yo,0),Vr(r)}function kc(r,o){try{return r._strategySizeAlgorithm(o)}catch(u){return di(r,u),1}}function Qo(r){return r._strategyHWM-r._queueTotalSize}function qc(r,o,u){try{ei(r,o,u)}catch(h){di(r,h);return}let c=r._controlledWritableStream;if(!Ne(c)&&c._state==="writable"){let h=hi(r);ci(c,h)}Vr(r)}function Vr(r){let o=r._controlledWritableStream;if(!r._started||o._inFlightWriteRequest!==void 0)return;if(o._state==="erroring"){li(o);return}if(r._queue.length===0)return;let c=Xl(r);c===Yo?Dc(r):Fc(r,c)}function di(r,o){r._controlledWritableStream._state==="writable"&&Jo(r,o)}function Dc(r){let o=r._controlledWritableStream;Rc(o),Zn(r);let u=r._closeAlgorithm();Hr(r),P(u,()=>{Sc(o)},c=>{_c(o,c)})}function Fc(r,o){let u=r._controlledWritableStream;Ec(u);let c=r._writeAlgorithm(o);P(c,()=>{bc(u);let h=u._state;if(Zn(r),!Ne(u)&&h==="writable"){let _=hi(r);ci(u,_)}Vr(r)},h=>{u._state==="writable"&&Hr(r),gc(u,h)})}function hi(r){return Qo(r)<=0}function Jo(r,o){let u=r._controlledWritableStream;Hr(r),ui(u,o)}function Yr(r){return new TypeError(`WritableStream.prototype.${r} can only be used on a WritableStream`)}function mi(r){return new TypeError(`WritableStreamDefaultController.prototype.${r} can only be used on a WritableStreamDefaultController`)}function _t(r){return new TypeError(`WritableStreamDefaultWriter.prototype.${r} can only be used on a WritableStreamDefaultWriter`)}function ur(r){return new TypeError("Cannot "+r+" a stream using a released writer")}function Gr(r){r._closedPromise=y((o,u)=>{r._closedPromise_resolve=o,r._closedPromise_reject=u,r._closedPromiseState="pending"})}function Ko(r,o){Gr(r),pi(r,o)}function Bc(r){Gr(r),Xo(r)}function pi(r,o){r._closedPromise_reject!==void 0&&(M(r._closedPromise),r._closedPromise_reject(o),r._closedPromise_resolve=void 0,r._closedPromise_reject=void 0,r._closedPromiseState="rejected")}function Lc(r,o){Ko(r,o)}function Xo(r){r._closedPromise_resolve!==void 0&&(r._closedPromise_resolve(void 0),r._closedPromise_resolve=void 0,r._closedPromise_reject=void 0,r._closedPromiseState="resolved")}function Qr(r){r._readyPromise=y((o,u)=>{r._readyPromise_resolve=o,r._readyPromise_reject=u}),r._readyPromiseState="pending"}function yi(r,o){Qr(r),es(r,o)}function Zo(r){Qr(r),bi(r)}function es(r,o){r._readyPromise_reject!==void 0&&(M(r._readyPromise),r._readyPromise_reject(o),r._readyPromise_resolve=void 0,r._readyPromise_reject=void 0,r._readyPromiseState="rejected")}function Ic(r){Qr(r)}function Wc(r,o){yi(r,o)}function bi(r){r._readyPromise_resolve!==void 0&&(r._readyPromise_resolve(void 0),r._readyPromise_resolve=void 0,r._readyPromise_reject=void 0,r._readyPromiseState="fulfilled")}let ts=typeof DOMException<"u"?DOMException:void 0;function xc(r){if(!(typeof r=="function"||typeof r=="object"))return!1;try{return new r,!0}catch{return!1}}function Nc(){let r=function(u,c){this.message=u||"",this.name=c||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return r.prototype=Object.create(Error.prototype),Object.defineProperty(r.prototype,"constructor",{value:r,writable:!0,configurable:!0}),r}let Mc=xc(ts)?ts:Nc();function rs(r,o,u,c,h,_){let w=Ot(r),R=Mo(o);r._disturbed=!0;let q=!1,L=S(void 0);return y((x,N)=>{let te;if(_!==void 0){if(te=()=>{let C=new Mc("Aborted","AbortError"),B=[];c||B.push(()=>o._state==="writable"?Ur(o,C):S(void 0)),h||B.push(()=>r._state==="readable"?qe(r,C):S(void 0)),he(()=>Promise.all(B.map(V=>V())),!0,C)},_.aborted){te();return}_.addEventListener("abort",te)}function De(){return y((C,B)=>{function V(Re){Re?C():g(It(),V,B)}V(!1)})}function It(){return q?S(!0):g(R._readyPromise,()=>y((C,B)=>{Zt(w,{_chunkSteps:V=>{L=g(Vo(R,V),void 0,n),C(!1)},_closeSteps:()=>C(!0),_errorSteps:B})}))}if(Ve(r,w._closedPromise,C=>{c?Te(!0,C):he(()=>Ur(o,C),!0,C)}),Ve(o,R._closedPromise,C=>{h?Te(!0,C):he(()=>qe(r,C),!0,C)}),le(r,w._closedPromise,()=>{u?Te():he(()=>Tc(R))}),Ne(o)||o._state==="closed"){let C=new TypeError("the destination writable stream closed before all data could be piped to it");h?Te(!0,C):he(()=>qe(r,C),!0,C)}M(De());function ot(){let C=L;return g(L,()=>C!==L?ot():void 0)}function Ve(C,B,V){C._state==="errored"?V(C._storedError):T(B,V)}function le(C,B,V){C._state==="closed"?V():E(B,V)}function he(C,B,V){if(q)return;q=!0,o._state==="writable"&&!Ne(o)?E(ot(),Re):Re();function Re(){P(C(),()=>Ye(B,V),Wt=>Ye(!0,Wt))}}function Te(C,B){q||(q=!0,o._state==="writable"&&!Ne(o)?E(ot(),()=>Ye(C,B)):Ye(C,B))}function Ye(C,B){Ho(R),k(w),_!==void 0&&_.removeEventListener("abort",te),C?N(B):x(void 0)}})}class Bt{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Jr(this))throw Zr("desiredSize");return gi(this)}close(){if(!Jr(this))throw Zr("close");if(!Lt(this))throw new TypeError("The stream is not in a state that permits close");cr(this)}enqueue(o=void 0){if(!Jr(this))throw Zr("enqueue");if(!Lt(this))throw new TypeError("The stream is not in a state that permits enqueue");return Xr(this,o)}error(o=void 0){if(!Jr(this))throw Zr("error");tt(this,o)}[Yn](o){et(this);let u=this._cancelAlgorithm(o);return Kr(this),u}[Gn](o){let u=this._controlledReadableStream;if(this._queue.length>0){let c=Zn(this);this._closeRequested&&this._queue.length===0?(Kr(this),fr(u)):lr(this),o._chunkSteps(c)}else po(u,o),lr(this)}}Object.defineProperties(Bt.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(Bt.prototype,e.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});function Jr(r){return!a(r)||!Object.prototype.hasOwnProperty.call(r,"_controlledReadableStream")?!1:r instanceof Bt}function lr(r){if(!ns(r))return;if(r._pulling){r._pullAgain=!0;return}r._pulling=!0;let u=r._pullAlgorithm();P(u,()=>{r._pulling=!1,r._pullAgain&&(r._pullAgain=!1,lr(r))},c=>{tt(r,c)})}function ns(r){let o=r._controlledReadableStream;return!Lt(r)||!r._started?!1:!!(it(o)&&qr(o)>0||gi(r)>0)}function Kr(r){r._pullAlgorithm=void 0,r._cancelAlgorithm=void 0,r._strategySizeAlgorithm=void 0}function cr(r){if(!Lt(r))return;let o=r._controlledReadableStream;r._closeRequested=!0,r._queue.length===0&&(Kr(r),fr(o))}function Xr(r,o){if(!Lt(r))return;let u=r._controlledReadableStream;if(it(u)&&qr(u)>0)Xn(u,o,!1);else{let c;try{c=r._strategySizeAlgorithm(o)}catch(h){throw tt(r,h),h}try{ei(r,o,c)}catch(h){throw tt(r,h),h}}lr(r)}function tt(r,o){let u=r._controlledReadableStream;u._state==="readable"&&(et(r),Kr(r),as(u,o))}function gi(r){let o=r._controlledReadableStream._state;return o==="errored"?null:o==="closed"?0:r._strategyHWM-r._queueTotalSize}function $c(r){return!ns(r)}function Lt(r){let o=r._controlledReadableStream._state;return!r._closeRequested&&o==="readable"}function is(r,o,u,c,h,_,w){o._controlledReadableStream=r,o._queue=void 0,o._queueTotalSize=void 0,et(o),o._started=!1,o._closeRequested=!1,o._pullAgain=!1,o._pulling=!1,o._strategySizeAlgorithm=w,o._strategyHWM=_,o._pullAlgorithm=c,o._cancelAlgorithm=h,r._readableStreamController=o;let R=u();P(S(R),()=>{o._started=!0,lr(o)},q=>{tt(o,q)})}function jc(r,o,u,c){let h=Object.create(Bt.prototype),_=()=>{},w=()=>S(void 0),R=()=>S(void 0);o.start!==void 0&&(_=()=>o.start(h)),o.pull!==void 0&&(w=()=>o.pull(h)),o.cancel!==void 0&&(R=q=>o.cancel(q)),is(r,h,_,w,R,u,c)}function Zr(r){return new TypeError(`ReadableStreamDefaultController.prototype.${r} can only be used on a ReadableStreamDefaultController`)}function Uc(r,o){return yt(r._readableStreamController)?Hc(r):zc(r)}function zc(r,o){let u=Ot(r),c=!1,h=!1,_=!1,w=!1,R,q,L,x,N,te=y(le=>{N=le});function De(){return c?(h=!0,S(void 0)):(c=!0,Zt(u,{_chunkSteps:he=>{F(()=>{h=!1;let Te=he,Ye=he;_||Xr(L._readableStreamController,Te),w||Xr(x._readableStreamController,Ye),c=!1,h&&De()})},_closeSteps:()=>{c=!1,_||cr(L._readableStreamController),w||cr(x._readableStreamController),(!_||!w)&&N(void 0)},_errorSteps:()=>{c=!1}}),S(void 0))}function It(le){if(_=!0,R=le,w){let he=er([R,q]),Te=qe(r,he);N(Te)}return te}function ot(le){if(w=!0,q=le,_){let he=er([R,q]),Te=qe(r,he);N(Te)}return te}function Ve(){}return L=Si(Ve,De,It),x=Si(Ve,De,ot),T(u._closedPromise,le=>{tt(L._readableStreamController,le),tt(x._readableStreamController,le),(!_||!w)&&N(void 0)}),[L,x]}function Hc(r){let o=Ot(r),u=!1,c=!1,h=!1,_=!1,w=!1,R,q,L,x,N,te=y(C=>{N=C});function De(C){T(C._closedPromise,B=>{C===o&&(ke(L._readableStreamController,B),ke(x._readableStreamController,B),(!_||!w)&&N(void 0))})}function It(){gt(o)&&(k(o),o=Ot(r),De(o)),Zt(o,{_chunkSteps:B=>{F(()=>{c=!1,h=!1;let V=B,Re=B;if(!_&&!w)try{Re=To(B)}catch(Wt){ke(L._readableStreamController,Wt),ke(x._readableStreamController,Wt),N(qe(r,Wt));return}_||Wr(L._readableStreamController,V),w||Wr(x._readableStreamController,Re),u=!1,c?Ve():h&&le()})},_closeSteps:()=>{u=!1,_||rr(L._readableStreamController),w||rr(x._readableStreamController),L._readableStreamController._pendingPullIntos.length>0&&xr(L._readableStreamController,0),x._readableStreamController._pendingPullIntos.length>0&&xr(x._readableStreamController,0),(!_||!w)&&N(void 0)},_errorSteps:()=>{u=!1}})}function ot(C,B){Ze(o)&&(k(o),o=Lo(r),De(o));let V=B?x:L,Re=B?L:x;xo(o,C,{_chunkSteps:xt=>{F(()=>{c=!1,h=!1;let Nt=B?w:_;if(B?_:w)Nt||Nr(V._readableStreamController,xt);else{let _s;try{_s=To(xt)}catch(wi){ke(V._readableStreamController,wi),ke(Re._readableStreamController,wi),N(qe(r,wi));return}Nt||Nr(V._readableStreamController,xt),Wr(Re._readableStreamController,_s)}u=!1,c?Ve():h&&le()})},_closeSteps:xt=>{u=!1;let Nt=B?w:_,ln=B?_:w;Nt||rr(V._readableStreamController),ln||rr(Re._readableStreamController),xt!==void 0&&(Nt||Nr(V._readableStreamController,xt),!ln&&Re._readableStreamController._pendingPullIntos.length>0&&xr(Re._readableStreamController,0)),(!Nt||!ln)&&N(void 0)},_errorSteps:()=>{u=!1}})}function Ve(){if(u)return c=!0,S(void 0);u=!0;let C=ii(L._readableStreamController);return C===null?It():ot(C._view,!1),S(void 0)}function le(){if(u)return h=!0,S(void 0);u=!0;let C=ii(x._readableStreamController);return C===null?It():ot(C._view,!0),S(void 0)}function he(C){if(_=!0,R=C,w){let B=er([R,q]),V=qe(r,B);N(V)}return te}function Te(C){if(w=!0,q=C,_){let B=er([R,q]),V=qe(r,B);N(V)}return te}function Ye(){}return L=ss(Ye,Ve,he),x=ss(Ye,le,Te),De(o),[L,x]}function Vc(r,o){ze(r,o);let u=r,c=u==null?void 0:u.autoAllocateChunkSize,h=u==null?void 0:u.cancel,_=u==null?void 0:u.pull,w=u==null?void 0:u.start,R=u==null?void 0:u.type;return{autoAllocateChunkSize:c===void 0?void 0:mo(c,`${o} has member 'autoAllocateChunkSize' that`),cancel:h===void 0?void 0:Yc(h,u,`${o} has member 'cancel' that`),pull:_===void 0?void 0:Gc(_,u,`${o} has member 'pull' that`),start:w===void 0?void 0:Qc(w,u,`${o} has member 'start' that`),type:R===void 0?void 0:Jc(R,`${o} has member 'type' that`)}}function Yc(r,o,u){return Oe(r,u),c=>W(r,o,[c])}function Gc(r,o,u){return Oe(r,u),c=>W(r,o,[c])}function Qc(r,o,u){return Oe(r,u),c=>J(r,o,[c])}function Jc(r,o){if(r=`${r}`,r!=="bytes")throw new TypeError(`${o} '${r}' is not a valid enumeration value for ReadableStreamType`);return r}function Kc(r,o){ze(r,o);let u=r==null?void 0:r.mode;return{mode:u===void 0?void 0:Xc(u,`${o} has member 'mode' that`)}}function Xc(r,o){if(r=`${r}`,r!=="byob")throw new TypeError(`${o} '${r}' is not a valid enumeration value for ReadableStreamReaderMode`);return r}function Zc(r,o){ze(r,o);let u=r==null?void 0:r.preventCancel;return{preventCancel:Boolean(u)}}function os(r,o){ze(r,o);let u=r==null?void 0:r.preventAbort,c=r==null?void 0:r.preventCancel,h=r==null?void 0:r.preventClose,_=r==null?void 0:r.signal;return _!==void 0&&ef(_,`${o} has member 'signal' that`),{preventAbort:Boolean(u),preventCancel:Boolean(c),preventClose:Boolean(h),signal:_}}function ef(r,o){if(!dc(r))throw new TypeError(`${o} is not an AbortSignal.`)}function tf(r,o){ze(r,o);let u=r==null?void 0:r.readable;Qn(u,"readable","ReadableWritablePair"),Kn(u,`${o} has member 'readable' that`);let c=r==null?void 0:r.writable;return Qn(c,"writable","ReadableWritablePair"),No(c,`${o} has member 'writable' that`),{readable:u,writable:c}}class rt{constructor(o={},u={}){o===void 0?o=null:fo(o,"First parameter");let c=jr(u,"Second parameter"),h=Vc(o,"First parameter");if(_i(this),h.type==="bytes"){if(c.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");let _=or(c,0);nc(this,h,_)}else{let _=$r(c),w=or(c,1);jc(this,h,w,_)}}get locked(){if(!nt(this))throw wt("locked");return it(this)}cancel(o=void 0){return nt(this)?it(this)?b(new TypeError("Cannot cancel a stream that already has a reader")):qe(this,o):b(wt("cancel"))}getReader(o=void 0){if(!nt(this))throw wt("getReader");return Kc(o,"First parameter").mode===void 0?Ot(this):Lo(this)}pipeThrough(o,u={}){if(!nt(this))throw wt("pipeThrough");He(o,1,"pipeThrough");let c=tf(o,"First parameter"),h=os(u,"Second parameter");if(it(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(Dt(c.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");let _=rs(this,c.writable,h.preventClose,h.preventAbort,h.preventCancel,h.signal);return M(_),c.readable}pipeTo(o,u={}){if(!nt(this))return b(wt("pipeTo"));if(o===void 0)return b("Parameter 1 is required in 'pipeTo'.");if(!qt(o))return b(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let c;try{c=os(u,"Second parameter")}catch(h){return b(h)}return it(this)?b(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):Dt(o)?b(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):rs(this,o,c.preventClose,c.preventAbort,c.preventCancel,c.signal)}tee(){if(!nt(this))throw wt("tee");let o=Uc(this);return er(o)}values(o=void 0){if(!nt(this))throw wt("values");let u=Zc(o,"First parameter");return Jl(this,u.preventCancel)}}Object.defineProperties(rt.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(rt.prototype,e.toStringTag,{value:"ReadableStream",configurable:!0}),typeof e.asyncIterator=="symbol"&&Object.defineProperty(rt.prototype,e.asyncIterator,{value:rt.prototype.values,writable:!0,configurable:!0});function Si(r,o,u,c=1,h=()=>1){let _=Object.create(rt.prototype);_i(_);let w=Object.create(Bt.prototype);return is(_,w,r,o,u,c,h),_}function ss(r,o,u){let c=Object.create(rt.prototype);_i(c);let h=Object.create(kt.prototype);return Bo(c,h,r,o,u,0,void 0),c}function _i(r){r._state="readable",r._reader=void 0,r._storedError=void 0,r._disturbed=!1}function nt(r){return!a(r)||!Object.prototype.hasOwnProperty.call(r,"_readableStreamController")?!1:r instanceof rt}function it(r){return r._reader!==void 0}function qe(r,o){if(r._disturbed=!0,r._state==="closed")return S(void 0);if(r._state==="errored")return b(r._storedError);fr(r);let u=r._reader;u!==void 0&&gt(u)&&(u._readIntoRequests.forEach(h=>{h._closeSteps(void 0)}),u._readIntoRequests=new oe);let c=r._readableStreamController[Yn](o);return D(c,n)}function fr(r){r._state="closed";let o=r._reader;o!==void 0&&(ee(o),Ze(o)&&(o._readRequests.forEach(u=>{u._closeSteps()}),o._readRequests=new oe))}function as(r,o){r._state="errored",r._storedError=o;let u=r._reader;u!==void 0&&(H(u,o),Ze(u)?(u._readRequests.forEach(c=>{c._errorSteps(o)}),u._readRequests=new oe):(u._readIntoRequests.forEach(c=>{c._errorSteps(o)}),u._readIntoRequests=new oe))}function wt(r){return new TypeError(`ReadableStream.prototype.${r} can only be used on a ReadableStream`)}function us(r,o){ze(r,o);let u=r==null?void 0:r.highWaterMark;return Qn(u,"highWaterMark","QueuingStrategyInit"),{highWaterMark:Jn(u)}}let ls=r=>r.byteLength;try{Object.defineProperty(ls,"name",{value:"size",configurable:!0})}catch{}class en{constructor(o){He(o,1,"ByteLengthQueuingStrategy"),o=us(o,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=o.highWaterMark}get highWaterMark(){if(!fs(this))throw cs("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!fs(this))throw cs("size");return ls}}Object.defineProperties(en.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(en.prototype,e.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});function cs(r){return new TypeError(`ByteLengthQueuingStrategy.prototype.${r} can only be used on a ByteLengthQueuingStrategy`)}function fs(r){return!a(r)||!Object.prototype.hasOwnProperty.call(r,"_byteLengthQueuingStrategyHighWaterMark")?!1:r instanceof en}let ds=()=>1;try{Object.defineProperty(ds,"name",{value:"size",configurable:!0})}catch{}class tn{constructor(o){He(o,1,"CountQueuingStrategy"),o=us(o,"First parameter"),this._countQueuingStrategyHighWaterMark=o.highWaterMark}get highWaterMark(){if(!ms(this))throw hs("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!ms(this))throw hs("size");return ds}}Object.defineProperties(tn.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(tn.prototype,e.toStringTag,{value:"CountQueuingStrategy",configurable:!0});function hs(r){return new TypeError(`CountQueuingStrategy.prototype.${r} can only be used on a CountQueuingStrategy`)}function ms(r){return!a(r)||!Object.prototype.hasOwnProperty.call(r,"_countQueuingStrategyHighWaterMark")?!1:r instanceof tn}function rf(r,o){ze(r,o);let u=r==null?void 0:r.flush,c=r==null?void 0:r.readableType,h=r==null?void 0:r.start,_=r==null?void 0:r.transform,w=r==null?void 0:r.writableType;return{flush:u===void 0?void 0:nf(u,r,`${o} has member 'flush' that`),readableType:c,start:h===void 0?void 0:of(h,r,`${o} has member 'start' that`),transform:_===void 0?void 0:sf(_,r,`${o} has member 'transform' that`),writableType:w}}function nf(r,o,u){return Oe(r,u),c=>W(r,o,[c])}function of(r,o,u){return Oe(r,u),c=>J(r,o,[c])}function sf(r,o,u){return Oe(r,u),(c,h)=>W(r,o,[c,h])}class rn{constructor(o={},u={},c={}){o===void 0&&(o=null);let h=jr(u,"Second parameter"),_=jr(c,"Third parameter"),w=rf(o,"First parameter");if(w.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(w.writableType!==void 0)throw new RangeError("Invalid writableType specified");let R=or(_,0),q=$r(_),L=or(h,1),x=$r(h),N,te=y(De=>{N=De});af(this,te,L,x,R,q),lf(this,w),w.start!==void 0?N(w.start(this._transformStreamController)):N(void 0)}get readable(){if(!ps(this))throw Ss("readable");return this._readable}get writable(){if(!ps(this))throw Ss("writable");return this._writable}}Object.defineProperties(rn.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(rn.prototype,e.toStringTag,{value:"TransformStream",configurable:!0});function af(r,o,u,c,h,_){function w(){return o}function R(te){return df(r,te)}function q(te){return hf(r,te)}function L(){return mf(r)}r._writable=pc(w,R,L,q,u,c);function x(){return pf(r)}function N(te){return on(r,te),S(void 0)}r._readable=Si(w,x,N,h,_),r._backpressure=void 0,r._backpressureChangePromise=void 0,r._backpressureChangePromise_resolve=void 0,sn(r,!0),r._transformStreamController=void 0}function ps(r){return!a(r)||!Object.prototype.hasOwnProperty.call(r,"_transformStreamController")?!1:r instanceof rn}function nn(r,o){tt(r._readable._readableStreamController,o),on(r,o)}function on(r,o){ys(r._transformStreamController),di(r._writable._writableStreamController,o),r._backpressure&&sn(r,!1)}function sn(r,o){r._backpressureChangePromise!==void 0&&r._backpressureChangePromise_resolve(),r._backpressureChangePromise=y(u=>{r._backpressureChangePromise_resolve=u}),r._backpressure=o}class dr{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!an(this))throw un("desiredSize");let o=this._controlledTransformStream._readable._readableStreamController;return gi(o)}enqueue(o=void 0){if(!an(this))throw un("enqueue");bs(this,o)}error(o=void 0){if(!an(this))throw un("error");cf(this,o)}terminate(){if(!an(this))throw un("terminate");ff(this)}}Object.defineProperties(dr.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(dr.prototype,e.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});function an(r){return!a(r)||!Object.prototype.hasOwnProperty.call(r,"_controlledTransformStream")?!1:r instanceof dr}function uf(r,o,u,c){o._controlledTransformStream=r,r._transformStreamController=o,o._transformAlgorithm=u,o._flushAlgorithm=c}function lf(r,o){let u=Object.create(dr.prototype),c=_=>{try{return bs(u,_),S(void 0)}catch(w){return b(w)}},h=()=>S(void 0);o.transform!==void 0&&(c=_=>o.transform(_,u)),o.flush!==void 0&&(h=()=>o.flush(u)),uf(r,u,c,h)}function ys(r){r._transformAlgorithm=void 0,r._flushAlgorithm=void 0}function bs(r,o){let u=r._controlledTransformStream,c=u._readable._readableStreamController;if(!Lt(c))throw new TypeError("Readable side is not in a state that permits enqueue");try{Xr(c,o)}catch(_){throw on(u,_),u._readable._storedError}$c(c)!==u._backpressure&&sn(u,!0)}function cf(r,o){nn(r._controlledTransformStream,o)}function gs(r,o){let u=r._transformAlgorithm(o);return D(u,void 0,c=>{throw nn(r._controlledTransformStream,c),c})}function ff(r){let o=r._controlledTransformStream,u=o._readable._readableStreamController;cr(u);let c=new TypeError("TransformStream terminated");on(o,c)}function df(r,o){let u=r._transformStreamController;if(r._backpressure){let c=r._backpressureChangePromise;return D(c,()=>{let h=r._writable;if(h._state==="erroring")throw h._storedError;return gs(u,o)})}return gs(u,o)}function hf(r,o){return nn(r,o),S(void 0)}function mf(r){let o=r._readable,u=r._transformStreamController,c=u._flushAlgorithm();return ys(u),D(c,()=>{if(o._state==="errored")throw o._storedError;cr(o._readableStreamController)},h=>{throw nn(r,h),o._storedError})}function pf(r){return sn(r,!1),r._backpressureChangePromise}function un(r){return new TypeError(`TransformStreamDefaultController.prototype.${r} can only be used on a TransformStreamDefaultController`)}function Ss(r){return new TypeError(`TransformStream.prototype.${r} can only be used on a TransformStream`)}t.ByteLengthQueuingStrategy=en,t.CountQueuingStrategy=tn,t.ReadableByteStreamController=kt,t.ReadableStream=rt,t.ReadableStreamBYOBReader=ir,t.ReadableStreamBYOBRequest=tr,t.ReadableStreamDefaultController=Bt,t.ReadableStreamDefaultReader=Xt,t.TransformStream=rn,t.TransformStreamDefaultController=dr,t.WritableStream=sr,t.WritableStreamDefaultController=Ft,t.WritableStreamDefaultWriter=ar,Object.defineProperty(t,"__esModule",{value:!0})})});var Cs=A(()=>{if(!globalThis.ReadableStream)try{let t=require("node:process"),{emitWarning:e}=t;try{t.emitWarning=()=>{},Object.assign(globalThis,require("node:stream/web")),t.emitWarning=e}catch(n){throw t.emitWarning=e,n}}catch{Object.assign(globalThis,Ps())}try{let{Blob:t}=require("buffer");t&&!t.prototype.stream&&(t.prototype.stream=function(n){let i=0,s=this;return new ReadableStream({type:"bytes",async pull(a){let f=await s.slice(i,Math.min(s.size,i+65536)).arrayBuffer();i+=f.byteLength,a.enqueue(new Uint8Array(f)),i===s.size&&a.close()}})})}catch{}});async function*Ri(t,e=!0){for(let n of t)if("stream"in n)yield*n.stream();else if(ArrayBuffer.isView(n))if(e){let i=n.byteOffset,s=n.byteOffset+n.byteLength;for(;i!==s;){let a=Math.min(s-i,As),l=n.buffer.slice(i,i+a);i+=l.byteLength,yield new Uint8Array(l)}}else yield n;else{let i=0,s=n;for(;i!==s.size;){let l=await s.slice(i,Math.min(s.size,i+As)).arrayBuffer();i+=l.byteLength,yield new Uint8Array(l)}}}var mp,As,Os,vf,Ge,mr=hr(()=>{mp=Fe(Cs(),1);As=65536;Os=class Ei{#e=[];#t="";#r=0;#n="transparent";constructor(e=[],n={}){if(typeof e!="object"||e===null)throw new TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if(typeof e[Symbol.iterator]!="function")throw new TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if(typeof n!="object"&&typeof n!="function")throw new TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");n===null&&(n={});let i=new TextEncoder;for(let a of e){let l;ArrayBuffer.isView(a)?l=new Uint8Array(a.buffer.slice(a.byteOffset,a.byteOffset+a.byteLength)):a instanceof ArrayBuffer?l=new Uint8Array(a.slice(0)):a instanceof Ei?l=a:l=i.encode(`${a}`);let f=ArrayBuffer.isView(l)?l.byteLength:l.size;f&&(this.#r+=f,this.#e.push(l))}this.#n=`${n.endings===void 0?"transparent":n.endings}`;let s=n.type===void 0?"":String(n.type);this.#t=/^[\x20-\x7E]*$/.test(s)?s:""}get size(){return this.#r}get type(){return this.#t}async text(){let e=new TextDecoder,n="";for await(let i of Ri(this.#e,!1))n+=e.decode(i,{stream:!0});return n+=e.decode(),n}async arrayBuffer(){let e=new Uint8Array(this.size),n=0;for await(let i of Ri(this.#e,!1))e.set(i,n),n+=i.length;return e.buffer}stream(){let e=Ri(this.#e,!0);return new globalThis.ReadableStream({type:"bytes",async pull(n){let i=await e.next();i.done?n.close():n.enqueue(i.value)},async cancel(){await e.return()}})}slice(e=0,n=this.size,i=""){let{size:s}=this,a=e<0?Math.max(s+e,0):Math.min(e,s),l=n<0?Math.max(s+n,0):Math.min(n,s),f=Math.max(l-a,0),m=this.#e,p=[],d=0;for(let S of m){if(d>=f)break;let b=ArrayBuffer.isView(S)?S.byteLength:S.size;if(a&&b<=a)a-=b,l-=b;else{let g;ArrayBuffer.isView(S)?(g=S.subarray(a,Math.min(b,l)),d+=g.byteLength):(g=S.slice(a,Math.min(b,l)),d+=g.size),l-=b,p.push(g),a=0}}let y=new Ei([],{type:String(i).toLowerCase()});return y.#r=f,y.#e=p,y}get[Symbol.toStringTag](){return"Blob"}static[Symbol.hasInstance](e){return e&&typeof e=="object"&&typeof e.constructor=="function"&&(typeof e.stream=="function"||typeof e.arrayBuffer=="function")&&/^(Blob|File)$/.test(e[Symbol.toStringTag])}};Object.defineProperties(Os.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});vf=Os,Ge=vf});var Tf,Pf,Mt,vi=hr(()=>{mr();Tf=class extends Ge{#e=0;#t="";constructor(e,n,i={}){if(arguments.length<2)throw new TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);super(e,i),i===null&&(i={});let s=i.lastModified===void 0?Date.now():Number(i.lastModified);Number.isNaN(s)||(this.#e=s),this.#t=String(n)}get name(){return this.#t}get lastModified(){return this.#e}get[Symbol.toStringTag](){return"File"}static[Symbol.hasInstance](e){return!!e&&e instanceof Ge&&/^(File)$/.test(e[Symbol.toStringTag])}},Pf=Tf,Mt=Pf});function Ds(t,e=Ge){var n=`${ks()}${ks()}`.replace(/\./g,"").slice(-28).padStart(32,"-"),i=[],s=`--${n}\r
Content-Disposition: form-data; name="`;return t.forEach((a,l)=>typeof a=="string"?i.push(s+Ti(l)+`"\r
\r
${a.replace(/\r(?!\n)|(?<!\r)\n/g,`\r
`)}\r
`):i.push(s+Ti(l)+`"; filename="${Ti(a.name,1)}"\r
Content-Type: ${a.type||"application/octet-stream"}\r
\r
`,a,`\r
`)),i.push(`--${n}--`),new e(i,{type:"multipart/form-data; boundary="+n})}var pr,Cf,Af,ks,Of,qs,Ti,Rt,Et,dn=hr(()=>{mr();vi();({toStringTag:pr,iterator:Cf,hasInstance:Af}=Symbol),ks=Math.random,Of="append,set,get,getAll,delete,keys,values,entries,forEach,constructor".split(","),qs=(t,e,n)=>(t+="",/^(Blob|File)$/.test(e&&e[pr])?[(n=n!==void 0?n+"":e[pr]=="File"?e.name:"blob",t),e.name!==n||e[pr]=="blob"?new Mt([e],n,e):e]:[t,e+""]),Ti=(t,e)=>(e?t:t.replace(/\r?\n|\r/g,`\r
`)).replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),Rt=(t,e,n)=>{if(e.length<n)throw new TypeError(`Failed to execute '${t}' on 'FormData': ${n} arguments required, but only ${e.length} present.`)},Et=class{#e=[];constructor(...e){if(e.length)throw new TypeError("Failed to construct 'FormData': parameter 1 is not of type 'HTMLFormElement'.")}get[pr](){return"FormData"}[Cf](){return this.entries()}static[Af](e){return e&&typeof e=="object"&&e[pr]==="FormData"&&!Of.some(n=>typeof e[n]!="function")}append(...e){Rt("append",arguments,2),this.#e.push(qs(...e))}delete(e){Rt("delete",arguments,1),e+="",this.#e=this.#e.filter(([n])=>n!==e)}get(e){Rt("get",arguments,1),e+="";for(var n=this.#e,i=n.length,s=0;s<i;s++)if(n[s][0]===e)return n[s][1];return null}getAll(e,n){return Rt("getAll",arguments,1),n=[],e+="",this.#e.forEach(i=>i[0]===e&&n.push(i[1])),n}has(e){return Rt("has",arguments,1),e+="",this.#e.some(n=>n[0]===e)}forEach(e,n){Rt("forEach",arguments,1);for(var[i,s]of this)e.call(n,s,i,this)}set(...e){Rt("set",arguments,2);var n=[],i=!0;e=qs(...e),this.#e.forEach(s=>{s[0]===e[0]?i&&(i=!n.push(e)):n.push(s)}),i&&n.push(e),this.#e=n}*entries(){yield*this.#e}*keys(){for(var[e]of this)yield e}*values(){for(var[,e]of this)yield e}}});var Is=A((Cp,Ls)=>{if(!globalThis.DOMException)try{let{MessageChannel:t}=require("worker_threads"),e=new t().port1,n=new ArrayBuffer;e.postMessage(n,[n,n])}catch(t){t.constructor.name==="DOMException"&&(globalThis.DOMException=t.constructor)}Ls.exports=globalThis.DOMException});var br,Ws,kf,mn,Ci=hr(()=>{br=require("node:fs"),Ws=Fe(Is(),1);vi();mr();({stat:kf}=br.promises),mn=class{#e;#t;constructor(e){this.#e=e.path,this.#t=e.start,this.size=e.size,this.lastModified=e.lastModified,this.originalSize=e.originalSize===void 0?e.size:e.originalSize}slice(e,n){return new mn({path:this.#e,lastModified:this.lastModified,originalSize:this.originalSize,size:n-e,start:this.#t+e})}async*stream(){let{mtimeMs:e,size:n}=await kf(this.#e);if(e>this.lastModified||this.originalSize!==n)throw new Ws.default("The requested file could not be read, typically due to permission problems that have occurred after a reference to a file was acquired.","NotReadableError");yield*(0,br.createReadStream)(this.#e,{start:this.#t,end:this.#t+this.size-1})}get[Symbol.toStringTag](){return"Blob"}}});var Ns={};wf(Ns,{toFormData:()=>Wf});function If(t){let e=t.match(/\bfilename=("(.*?)"|([^()<>@,;:\\"/[\]?={}\s\t]+))($|;\s)/i);if(!e)return;let n=e[2]||e[3]||"",i=n.slice(n.lastIndexOf("\\")+1);return i=i.replace(/%22/g,'"'),i=i.replace(/&#(\d{4});/g,(s,a)=>String.fromCharCode(a)),i}async function Wf(t,e){if(!/multipart/i.test(e))throw new TypeError("Failed to fetch");let n=e.match(/boundary=(?:"([^"]+)"|([^;]+))/i);if(!n)throw new TypeError("no or bad content-type header, no multipart boundary");let i=new Ai(n[1]||n[2]),s,a,l,f,m,p,d=[],y=new Et,S=T=>{l+=E.decode(T,{stream:!0})},b=T=>{d.push(T)},g=()=>{let T=new Mt(d,p,{type:m});y.append(f,T)},P=()=>{y.append(f,l)},E=new TextDecoder("utf-8");E.decode(),i.onPartBegin=function(){i.onPartData=S,i.onPartEnd=P,s="",a="",l="",f="",m="",p=null,d.length=0},i.onHeaderField=function(T){s+=E.decode(T,{stream:!0})},i.onHeaderValue=function(T){a+=E.decode(T,{stream:!0})},i.onHeaderEnd=function(){if(a+=E.decode(),s=s.toLowerCase(),s==="content-disposition"){let T=a.match(/\bname=("([^"]*)"|([^()<>@,;:\\"/[\]?={}\s\t]+))/i);T&&(f=T[2]||T[3]||""),p=If(a),p&&(i.onPartData=b,i.onPartEnd=g)}else s==="content-type"&&(m=a);a="",s=""};for await(let T of t)i.write(T);return i.end(),y}var Me,Y,xs,st,pn,yn,qf,gr,Df,Ff,Bf,Lf,vt,Ai,Ms=hr(()=>{Ci();dn();Me=0,Y={START_BOUNDARY:Me++,HEADER_FIELD_START:Me++,HEADER_FIELD:Me++,HEADER_VALUE_START:Me++,HEADER_VALUE:Me++,HEADER_VALUE_ALMOST_DONE:Me++,HEADERS_ALMOST_DONE:Me++,PART_DATA_START:Me++,PART_DATA:Me++,END:Me++},xs=1,st={PART_BOUNDARY:xs,LAST_BOUNDARY:xs*=2},pn=10,yn=13,qf=32,gr=45,Df=58,Ff=97,Bf=122,Lf=t=>t|32,vt=()=>{},Ai=class{constructor(e){this.index=0,this.flags=0,this.onHeaderEnd=vt,this.onHeaderField=vt,this.onHeadersEnd=vt,this.onHeaderValue=vt,this.onPartBegin=vt,this.onPartData=vt,this.onPartEnd=vt,this.boundaryChars={},e=`\r
--`+e;let n=new Uint8Array(e.length);for(let i=0;i<e.length;i++)n[i]=e.charCodeAt(i),this.boundaryChars[n[i]]=!0;this.boundary=n,this.lookbehind=new Uint8Array(this.boundary.length+8),this.state=Y.START_BOUNDARY}write(e){let n=0,i=e.length,s=this.index,{lookbehind:a,boundary:l,boundaryChars:f,index:m,state:p,flags:d}=this,y=this.boundary.length,S=y-1,b=e.length,g,P,E=F=>{this[F+"Mark"]=n},T=F=>{delete this[F+"Mark"]},D=(F,J,W,xe)=>{(J===void 0||J!==W)&&this[F](xe&&xe.subarray(J,W))},M=(F,J)=>{let W=F+"Mark";W in this&&(J?(D(F,this[W],n,e),delete this[W]):(D(F,this[W],e.length,e),this[W]=0))};for(n=0;n<i;n++)switch(g=e[n],p){case Y.START_BOUNDARY:if(m===l.length-2){if(g===gr)d|=st.LAST_BOUNDARY;else if(g!==yn)return;m++;break}else if(m-1===l.length-2){if(d&st.LAST_BOUNDARY&&g===gr)p=Y.END,d=0;else if(!(d&st.LAST_BOUNDARY)&&g===pn)m=0,D("onPartBegin"),p=Y.HEADER_FIELD_START;else return;break}g!==l[m+2]&&(m=-2),g===l[m+2]&&m++;break;case Y.HEADER_FIELD_START:p=Y.HEADER_FIELD,E("onHeaderField"),m=0;case Y.HEADER_FIELD:if(g===yn){T("onHeaderField"),p=Y.HEADERS_ALMOST_DONE;break}if(m++,g===gr)break;if(g===Df){if(m===1)return;M("onHeaderField",!0),p=Y.HEADER_VALUE_START;break}if(P=Lf(g),P<Ff||P>Bf)return;break;case Y.HEADER_VALUE_START:if(g===qf)break;E("onHeaderValue"),p=Y.HEADER_VALUE;case Y.HEADER_VALUE:g===yn&&(M("onHeaderValue",!0),D("onHeaderEnd"),p=Y.HEADER_VALUE_ALMOST_DONE);break;case Y.HEADER_VALUE_ALMOST_DONE:if(g!==pn)return;p=Y.HEADER_FIELD_START;break;case Y.HEADERS_ALMOST_DONE:if(g!==pn)return;D("onHeadersEnd"),p=Y.PART_DATA_START;break;case Y.PART_DATA_START:p=Y.PART_DATA,E("onPartData");case Y.PART_DATA:if(s=m,m===0){for(n+=S;n<b&&!(e[n]in f);)n+=y;n-=S,g=e[n]}if(m<l.length)l[m]===g?(m===0&&M("onPartData",!0),m++):m=0;else if(m===l.length)m++,g===yn?d|=st.PART_BOUNDARY:g===gr?d|=st.LAST_BOUNDARY:m=0;else if(m-1===l.length)if(d&st.PART_BOUNDARY){if(m=0,g===pn){d&=~st.PART_BOUNDARY,D("onPartEnd"),D("onPartBegin"),p=Y.HEADER_FIELD_START;break}}else d&st.LAST_BOUNDARY&&g===gr?(D("onPartEnd"),p=Y.END,d=0):m=0;if(m>0)a[m-1]=g;else if(s>0){let F=new Uint8Array(a.buffer,a.byteOffset,a.byteLength);D("onPartData",0,s,F),s=0,E("onPartData"),n--}break;case Y.END:break;default:throw new Error(`Unexpected state entered: ${p}`)}M("onHeaderField"),M("onHeaderValue"),M("onPartData"),this.index=m,this.state=p,this.flags=d}end(){if(this.state===Y.HEADER_FIELD_START&&this.index===0||this.state===Y.PART_DATA&&this.index===this.boundary.length)this.onPartEnd();else if(this.state!==Y.END)throw new Error("MultipartParser.end(): stream ended unexpectedly")}}});var ge=A(Di=>{"use strict";Di.fromCallback=function(t){return Object.defineProperty(function(...e){if(typeof e[e.length-1]=="function")t.apply(this,e);else return new Promise((n,i)=>{t.call(this,...e,(s,a)=>s!=null?i(s):n(a))})},"name",{value:t.name})};Di.fromPromise=function(t){return Object.defineProperty(function(...e){let n=e[e.length-1];if(typeof n!="function")return t.apply(this,e);t.apply(this,e.slice(0,-1)).then(i=>n(null,i),n)},"name",{value:t.name})}});var ua=A((wy,aa)=>{var at=require("constants"),Vf=process.cwd,Rn=null,Yf=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return Rn||(Rn=Vf.call(process)),Rn};try{process.cwd()}catch{}typeof process.chdir=="function"&&(Fi=process.chdir,process.chdir=function(t){Rn=null,Fi.call(process,t)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,Fi));var Fi;aa.exports=Gf;function Gf(t){at.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&e(t),t.lutimes||n(t),t.chown=a(t.chown),t.fchown=a(t.fchown),t.lchown=a(t.lchown),t.chmod=i(t.chmod),t.fchmod=i(t.fchmod),t.lchmod=i(t.lchmod),t.chownSync=l(t.chownSync),t.fchownSync=l(t.fchownSync),t.lchownSync=l(t.lchownSync),t.chmodSync=s(t.chmodSync),t.fchmodSync=s(t.fchmodSync),t.lchmodSync=s(t.lchmodSync),t.stat=f(t.stat),t.fstat=f(t.fstat),t.lstat=f(t.lstat),t.statSync=m(t.statSync),t.fstatSync=m(t.fstatSync),t.lstatSync=m(t.lstatSync),t.chmod&&!t.lchmod&&(t.lchmod=function(d,y,S){S&&process.nextTick(S)},t.lchmodSync=function(){}),t.chown&&!t.lchown&&(t.lchown=function(d,y,S,b){b&&process.nextTick(b)},t.lchownSync=function(){}),Yf==="win32"&&(t.rename=typeof t.rename!="function"?t.rename:function(d){function y(S,b,g){var P=Date.now(),E=0;d(S,b,function T(D){if(D&&(D.code==="EACCES"||D.code==="EPERM")&&Date.now()-P<6e4){setTimeout(function(){t.stat(b,function(M,F){M&&M.code==="ENOENT"?d(S,b,T):g(D)})},E),E<100&&(E+=10);return}g&&g(D)})}return Object.setPrototypeOf&&Object.setPrototypeOf(y,d),y}(t.rename)),t.read=typeof t.read!="function"?t.read:function(d){function y(S,b,g,P,E,T){var D;if(T&&typeof T=="function"){var M=0;D=function(F,J,W){if(F&&F.code==="EAGAIN"&&M<10)return M++,d.call(t,S,b,g,P,E,D);T.apply(this,arguments)}}return d.call(t,S,b,g,P,E,D)}return Object.setPrototypeOf&&Object.setPrototypeOf(y,d),y}(t.read),t.readSync=typeof t.readSync!="function"?t.readSync:function(d){return function(y,S,b,g,P){for(var E=0;;)try{return d.call(t,y,S,b,g,P)}catch(T){if(T.code==="EAGAIN"&&E<10){E++;continue}throw T}}}(t.readSync);function e(d){d.lchmod=function(y,S,b){d.open(y,at.O_WRONLY|at.O_SYMLINK,S,function(g,P){if(g){b&&b(g);return}d.fchmod(P,S,function(E){d.close(P,function(T){b&&b(E||T)})})})},d.lchmodSync=function(y,S){var b=d.openSync(y,at.O_WRONLY|at.O_SYMLINK,S),g=!0,P;try{P=d.fchmodSync(b,S),g=!1}finally{if(g)try{d.closeSync(b)}catch{}else d.closeSync(b)}return P}}function n(d){at.hasOwnProperty("O_SYMLINK")&&d.futimes?(d.lutimes=function(y,S,b,g){d.open(y,at.O_SYMLINK,function(P,E){if(P){g&&g(P);return}d.futimes(E,S,b,function(T){d.close(E,function(D){g&&g(T||D)})})})},d.lutimesSync=function(y,S,b){var g=d.openSync(y,at.O_SYMLINK),P,E=!0;try{P=d.futimesSync(g,S,b),E=!1}finally{if(E)try{d.closeSync(g)}catch{}else d.closeSync(g)}return P}):d.futimes&&(d.lutimes=function(y,S,b,g){g&&process.nextTick(g)},d.lutimesSync=function(){})}function i(d){return d&&function(y,S,b){return d.call(t,y,S,function(g){p(g)&&(g=null),b&&b.apply(this,arguments)})}}function s(d){return d&&function(y,S){try{return d.call(t,y,S)}catch(b){if(!p(b))throw b}}}function a(d){return d&&function(y,S,b,g){return d.call(t,y,S,b,function(P){p(P)&&(P=null),g&&g.apply(this,arguments)})}}function l(d){return d&&function(y,S,b){try{return d.call(t,y,S,b)}catch(g){if(!p(g))throw g}}}function f(d){return d&&function(y,S,b){typeof S=="function"&&(b=S,S=null);function g(P,E){E&&(E.uid<0&&(E.uid+=4294967296),E.gid<0&&(E.gid+=4294967296)),b&&b.apply(this,arguments)}return S?d.call(t,y,S,g):d.call(t,y,g)}}function m(d){return d&&function(y,S){var b=S?d.call(t,y,S):d.call(t,y);return b&&(b.uid<0&&(b.uid+=4294967296),b.gid<0&&(b.gid+=4294967296)),b}}function p(d){if(!d||d.code==="ENOSYS")return!0;var y=!process.getuid||process.getuid()!==0;return!!(y&&(d.code==="EINVAL"||d.code==="EPERM"))}}});var fa=A((Ry,ca)=>{var la=require("stream").Stream;ca.exports=Qf;function Qf(t){return{ReadStream:e,WriteStream:n};function e(i,s){if(!(this instanceof e))return new e(i,s);la.call(this);var a=this;this.path=i,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,s=s||{};for(var l=Object.keys(s),f=0,m=l.length;f<m;f++){var p=l[f];this[p]=s[p]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){a._read()});return}t.open(this.path,this.flags,this.mode,function(d,y){if(d){a.emit("error",d),a.readable=!1;return}a.fd=y,a.emit("open",y),a._read()})}function n(i,s){if(!(this instanceof n))return new n(i,s);la.call(this),this.path=i,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,s=s||{};for(var a=Object.keys(s),l=0,f=a.length;l<f;l++){var m=a[l];this[m]=s[m]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=t.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}});var ha=A((Ey,da)=>{"use strict";da.exports=Kf;var Jf=Object.getPrototypeOf||function(t){return t.__proto__};function Kf(t){if(t===null||typeof t!="object")return t;if(t instanceof Object)var e={__proto__:Jf(t)};else var e=Object.create(null);return Object.getOwnPropertyNames(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}});var ce=A((vy,Ii)=>{var K=require("fs"),Xf=ua(),Zf=fa(),ed=ha(),En=require("util"),se,Tn;typeof Symbol=="function"&&typeof Symbol.for=="function"?(se=Symbol.for("graceful-fs.queue"),Tn=Symbol.for("graceful-fs.previous")):(se="___graceful-fs.queue",Tn="___graceful-fs.previous");function td(){}function ya(t,e){Object.defineProperty(t,se,{get:function(){return e}})}var Pt=td;En.debuglog?Pt=En.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(Pt=function(){var t=En.format.apply(En,arguments);t="GFS4: "+t.split(/\n/).join(`
GFS4: `),console.error(t)});K[se]||(ma=global[se]||[],ya(K,ma),K.close=function(t){function e(n,i){return t.call(K,n,function(s){s||pa(),typeof i=="function"&&i.apply(this,arguments)})}return Object.defineProperty(e,Tn,{value:t}),e}(K.close),K.closeSync=function(t){function e(n){t.apply(K,arguments),pa()}return Object.defineProperty(e,Tn,{value:t}),e}(K.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){Pt(K[se]),require("assert").equal(K[se].length,0)}));var ma;global[se]||ya(global,K[se]);Ii.exports=Bi(ed(K));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!K.__patched&&(Ii.exports=Bi(K),K.__patched=!0);function Bi(t){Xf(t),t.gracefulify=Bi,t.createReadStream=J,t.createWriteStream=W;var e=t.readFile;t.readFile=n;function n(O,I,k){return typeof I=="function"&&(k=I,I=null),Q(O,I,k);function Q(X,Z,G,H){return e(X,Z,function(j){j&&(j.code==="EMFILE"||j.code==="ENFILE")?Ut([Q,[X,Z,G],j,H||Date.now(),Date.now()]):typeof G=="function"&&G.apply(this,arguments)})}}var i=t.writeFile;t.writeFile=s;function s(O,I,k,Q){return typeof k=="function"&&(Q=k,k=null),X(O,I,k,Q);function X(Z,G,H,j,ee){return i(Z,G,H,function(U){U&&(U.code==="EMFILE"||U.code==="ENFILE")?Ut([X,[Z,G,H,j],U,ee||Date.now(),Date.now()]):typeof j=="function"&&j.apply(this,arguments)})}}var a=t.appendFile;a&&(t.appendFile=l);function l(O,I,k,Q){return typeof k=="function"&&(Q=k,k=null),X(O,I,k,Q);function X(Z,G,H,j,ee){return a(Z,G,H,function(U){U&&(U.code==="EMFILE"||U.code==="ENFILE")?Ut([X,[Z,G,H,j],U,ee||Date.now(),Date.now()]):typeof j=="function"&&j.apply(this,arguments)})}}var f=t.copyFile;f&&(t.copyFile=m);function m(O,I,k,Q){return typeof k=="function"&&(Q=k,k=0),X(O,I,k,Q);function X(Z,G,H,j,ee){return f(Z,G,H,function(U){U&&(U.code==="EMFILE"||U.code==="ENFILE")?Ut([X,[Z,G,H,j],U,ee||Date.now(),Date.now()]):typeof j=="function"&&j.apply(this,arguments)})}}var p=t.readdir;t.readdir=y;var d=/^v[0-5]\./;function y(O,I,k){typeof I=="function"&&(k=I,I=null);var Q=d.test(process.version)?function(G,H,j,ee){return p(G,X(G,H,j,ee))}:function(G,H,j,ee){return p(G,H,X(G,H,j,ee))};return Q(O,I,k);function X(Z,G,H,j){return function(ee,U){ee&&(ee.code==="EMFILE"||ee.code==="ENFILE")?Ut([Q,[Z,G,H],ee,j||Date.now(),Date.now()]):(U&&U.sort&&U.sort(),typeof H=="function"&&H.call(this,ee,U))}}}if(process.version.substr(0,4)==="v0.8"){var S=Zf(t);T=S.ReadStream,M=S.WriteStream}var b=t.ReadStream;b&&(T.prototype=Object.create(b.prototype),T.prototype.open=D);var g=t.WriteStream;g&&(M.prototype=Object.create(g.prototype),M.prototype.open=F),Object.defineProperty(t,"ReadStream",{get:function(){return T},set:function(O){T=O},enumerable:!0,configurable:!0}),Object.defineProperty(t,"WriteStream",{get:function(){return M},set:function(O){M=O},enumerable:!0,configurable:!0});var P=T;Object.defineProperty(t,"FileReadStream",{get:function(){return P},set:function(O){P=O},enumerable:!0,configurable:!0});var E=M;Object.defineProperty(t,"FileWriteStream",{get:function(){return E},set:function(O){E=O},enumerable:!0,configurable:!0});function T(O,I){return this instanceof T?(b.apply(this,arguments),this):T.apply(Object.create(T.prototype),arguments)}function D(){var O=this;oe(O.path,O.flags,O.mode,function(I,k){I?(O.autoClose&&O.destroy(),O.emit("error",I)):(O.fd=k,O.emit("open",k),O.read())})}function M(O,I){return this instanceof M?(g.apply(this,arguments),this):M.apply(Object.create(M.prototype),arguments)}function F(){var O=this;oe(O.path,O.flags,O.mode,function(I,k){I?(O.destroy(),O.emit("error",I)):(O.fd=k,O.emit("open",k))})}function J(O,I){return new t.ReadStream(O,I)}function W(O,I){return new t.WriteStream(O,I)}var xe=t.open;t.open=oe;function oe(O,I,k,Q){return typeof k=="function"&&(Q=k,k=null),X(O,I,k,Q);function X(Z,G,H,j,ee){return xe(Z,G,H,function(U,Vn){U&&(U.code==="EMFILE"||U.code==="ENFILE")?Ut([X,[Z,G,H,j],U,ee||Date.now(),Date.now()]):typeof j=="function"&&j.apply(this,arguments)})}}return t}function Ut(t){Pt("ENQUEUE",t[0].name,t[1]),K[se].push(t),Li()}var vn;function pa(){for(var t=Date.now(),e=0;e<K[se].length;++e)K[se][e].length>2&&(K[se][e][3]=t,K[se][e][4]=t);Li()}function Li(){if(clearTimeout(vn),vn=void 0,K[se].length!==0){var t=K[se].shift(),e=t[0],n=t[1],i=t[2],s=t[3],a=t[4];if(s===void 0)Pt("RETRY",e.name,n),e.apply(null,n);else if(Date.now()-s>=6e4){Pt("TIMEOUT",e.name,n);var l=n.pop();typeof l=="function"&&l.call(null,i)}else{var f=Date.now()-a,m=Math.max(a-s,1),p=Math.min(m*1.2,100);f>=p?(Pt("RETRY",e.name,n),e.apply(null,n.concat([s]))):K[se].push(t)}vn===void 0&&(vn=setTimeout(Li,0))}}});var Ct=A(ut=>{"use strict";var ba=ge().fromCallback,Se=ce(),rd=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(t=>typeof Se[t]=="function");Object.assign(ut,Se);rd.forEach(t=>{ut[t]=ba(Se[t])});ut.exists=function(t,e){return typeof e=="function"?Se.exists(t,e):new Promise(n=>Se.exists(t,n))};ut.read=function(t,e,n,i,s,a){return typeof a=="function"?Se.read(t,e,n,i,s,a):new Promise((l,f)=>{Se.read(t,e,n,i,s,(m,p,d)=>{if(m)return f(m);l({bytesRead:p,buffer:d})})})};ut.write=function(t,e,...n){return typeof n[n.length-1]=="function"?Se.write(t,e,...n):new Promise((i,s)=>{Se.write(t,e,...n,(a,l,f)=>{if(a)return s(a);i({bytesWritten:l,buffer:f})})})};typeof Se.writev=="function"&&(ut.writev=function(t,e,...n){return typeof n[n.length-1]=="function"?Se.writev(t,e,...n):new Promise((i,s)=>{Se.writev(t,e,...n,(a,l,f)=>{if(a)return s(a);i({bytesWritten:l,buffers:f})})})});typeof Se.realpath.native=="function"?ut.realpath.native=ba(Se.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")});var Sa=A((Py,ga)=>{"use strict";var nd=require("path");ga.exports.checkPath=function(e){if(process.platform==="win32"&&/[<>:"|?*]/.test(e.replace(nd.parse(e).root,""))){let i=new Error(`Path contains invalid characters: ${e}`);throw i.code="EINVAL",i}}});var Ea=A((Cy,Wi)=>{"use strict";var _a=Ct(),{checkPath:wa}=Sa(),Ra=t=>{let e={mode:511};return typeof t=="number"?t:me(me({},e),t).mode};Wi.exports.makeDir=async(t,e)=>(wa(t),_a.mkdir(t,{mode:Ra(e),recursive:!0}));Wi.exports.makeDirSync=(t,e)=>(wa(t),_a.mkdirSync(t,{mode:Ra(e),recursive:!0}))});var Le=A((Ay,va)=>{"use strict";var id=ge().fromPromise,{makeDir:od,makeDirSync:xi}=Ea(),Ni=id(od);va.exports={mkdirs:Ni,mkdirsSync:xi,mkdirp:Ni,mkdirpSync:xi,ensureDir:Ni,ensureDirSync:xi}});var lt=A((Oy,Pa)=>{"use strict";var sd=ge().fromPromise,Ta=Ct();function ad(t){return Ta.access(t).then(()=>!0).catch(()=>!1)}Pa.exports={pathExists:sd(ad),pathExistsSync:Ta.existsSync}});var Mi=A((ky,Ca)=>{"use strict";var zt=ce();function ud(t,e,n,i){zt.open(t,"r+",(s,a)=>{if(s)return i(s);zt.futimes(a,e,n,l=>{zt.close(a,f=>{i&&i(l||f)})})})}function ld(t,e,n){let i=zt.openSync(t,"r+");return zt.futimesSync(i,e,n),zt.closeSync(i)}Ca.exports={utimesMillis:ud,utimesMillisSync:ld}});var At=A((qy,ka)=>{"use strict";var Ht=Ct(),ie=require("path"),cd=require("util");function fd(t,e,n){let i=n.dereference?s=>Ht.stat(s,{bigint:!0}):s=>Ht.lstat(s,{bigint:!0});return Promise.all([i(t),i(e).catch(s=>{if(s.code==="ENOENT")return null;throw s})]).then(([s,a])=>({srcStat:s,destStat:a}))}function dd(t,e,n){let i,s=n.dereference?l=>Ht.statSync(l,{bigint:!0}):l=>Ht.lstatSync(l,{bigint:!0}),a=s(t);try{i=s(e)}catch(l){if(l.code==="ENOENT")return{srcStat:a,destStat:null};throw l}return{srcStat:a,destStat:i}}function hd(t,e,n,i,s){cd.callbackify(fd)(t,e,i,(a,l)=>{if(a)return s(a);let{srcStat:f,destStat:m}=l;if(m){if(Rr(f,m)){let p=ie.basename(t),d=ie.basename(e);return n==="move"&&p!==d&&p.toLowerCase()===d.toLowerCase()?s(null,{srcStat:f,destStat:m,isChangingCase:!0}):s(new Error("Source and destination must not be the same."))}if(f.isDirectory()&&!m.isDirectory())return s(new Error(`Cannot overwrite non-directory '${e}' with directory '${t}'.`));if(!f.isDirectory()&&m.isDirectory())return s(new Error(`Cannot overwrite directory '${e}' with non-directory '${t}'.`))}return f.isDirectory()&&$i(t,e)?s(new Error(Pn(t,e,n))):s(null,{srcStat:f,destStat:m})})}function md(t,e,n,i){let{srcStat:s,destStat:a}=dd(t,e,i);if(a){if(Rr(s,a)){let l=ie.basename(t),f=ie.basename(e);if(n==="move"&&l!==f&&l.toLowerCase()===f.toLowerCase())return{srcStat:s,destStat:a,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(s.isDirectory()&&!a.isDirectory())throw new Error(`Cannot overwrite non-directory '${e}' with directory '${t}'.`);if(!s.isDirectory()&&a.isDirectory())throw new Error(`Cannot overwrite directory '${e}' with non-directory '${t}'.`)}if(s.isDirectory()&&$i(t,e))throw new Error(Pn(t,e,n));return{srcStat:s,destStat:a}}function Aa(t,e,n,i,s){let a=ie.resolve(ie.dirname(t)),l=ie.resolve(ie.dirname(n));if(l===a||l===ie.parse(l).root)return s();Ht.stat(l,{bigint:!0},(f,m)=>f?f.code==="ENOENT"?s():s(f):Rr(e,m)?s(new Error(Pn(t,n,i))):Aa(t,e,l,i,s))}function Oa(t,e,n,i){let s=ie.resolve(ie.dirname(t)),a=ie.resolve(ie.dirname(n));if(a===s||a===ie.parse(a).root)return;let l;try{l=Ht.statSync(a,{bigint:!0})}catch(f){if(f.code==="ENOENT")return;throw f}if(Rr(e,l))throw new Error(Pn(t,n,i));return Oa(t,e,a,i)}function Rr(t,e){return e.ino&&e.dev&&e.ino===t.ino&&e.dev===t.dev}function $i(t,e){let n=ie.resolve(t).split(ie.sep).filter(s=>s),i=ie.resolve(e).split(ie.sep).filter(s=>s);return n.reduce((s,a,l)=>s&&i[l]===a,!0)}function Pn(t,e,n){return`Cannot ${n} '${t}' to a subdirectory of itself, '${e}'.`}ka.exports={checkPaths:hd,checkPathsSync:md,checkParentPaths:Aa,checkParentPathsSync:Oa,isSrcSubdir:$i,areIdentical:Rr}});var xa=A((Dy,Wa)=>{"use strict";var _e=ce(),Er=require("path"),pd=Le().mkdirs,yd=lt().pathExists,bd=Mi().utimesMillis,vr=At();function gd(t,e,n,i){typeof n=="function"&&!i?(i=n,n={}):typeof n=="function"&&(n={filter:n}),i=i||function(){},n=n||{},n.clobber="clobber"in n?!!n.clobber:!0,n.overwrite="overwrite"in n?!!n.overwrite:n.clobber,n.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0001"),vr.checkPaths(t,e,"copy",n,(s,a)=>{if(s)return i(s);let{srcStat:l,destStat:f}=a;vr.checkParentPaths(t,l,e,"copy",m=>m?i(m):n.filter?Fa(qa,f,t,e,n,i):qa(f,t,e,n,i))})}function qa(t,e,n,i,s){let a=Er.dirname(n);yd(a,(l,f)=>{if(l)return s(l);if(f)return Cn(t,e,n,i,s);pd(a,m=>m?s(m):Cn(t,e,n,i,s))})}function Fa(t,e,n,i,s,a){Promise.resolve(s.filter(n,i)).then(l=>l?t(e,n,i,s,a):a(),l=>a(l))}function Sd(t,e,n,i,s){return i.filter?Fa(Cn,t,e,n,i,s):Cn(t,e,n,i,s)}function Cn(t,e,n,i,s){(i.dereference?_e.stat:_e.lstat)(e,(l,f)=>l?s(l):f.isDirectory()?Pd(f,t,e,n,i,s):f.isFile()||f.isCharacterDevice()||f.isBlockDevice()?_d(f,t,e,n,i,s):f.isSymbolicLink()?Od(t,e,n,i,s):f.isSocket()?s(new Error(`Cannot copy a socket file: ${e}`)):f.isFIFO()?s(new Error(`Cannot copy a FIFO pipe: ${e}`)):s(new Error(`Unknown file: ${e}`)))}function _d(t,e,n,i,s,a){return e?wd(t,n,i,s,a):Ba(t,n,i,s,a)}function wd(t,e,n,i,s){if(i.overwrite)_e.unlink(n,a=>a?s(a):Ba(t,e,n,i,s));else return i.errorOnExist?s(new Error(`'${n}' already exists`)):s()}function Ba(t,e,n,i,s){_e.copyFile(e,n,a=>a?s(a):i.preserveTimestamps?Rd(t.mode,e,n,s):An(n,t.mode,s))}function Rd(t,e,n,i){return Ed(t)?vd(n,t,s=>s?i(s):Da(t,e,n,i)):Da(t,e,n,i)}function Ed(t){return(t&128)===0}function vd(t,e,n){return An(t,e|128,n)}function Da(t,e,n,i){Td(e,n,s=>s?i(s):An(n,t,i))}function An(t,e,n){return _e.chmod(t,e,n)}function Td(t,e,n){_e.stat(t,(i,s)=>i?n(i):bd(e,s.atime,s.mtime,n))}function Pd(t,e,n,i,s,a){return e?La(n,i,s,a):Cd(t.mode,n,i,s,a)}function Cd(t,e,n,i,s){_e.mkdir(n,a=>{if(a)return s(a);La(e,n,i,l=>l?s(l):An(n,t,s))})}function La(t,e,n,i){_e.readdir(t,(s,a)=>s?i(s):Ia(a,t,e,n,i))}function Ia(t,e,n,i,s){let a=t.pop();return a?Ad(t,a,e,n,i,s):s()}function Ad(t,e,n,i,s,a){let l=Er.join(n,e),f=Er.join(i,e);vr.checkPaths(l,f,"copy",s,(m,p)=>{if(m)return a(m);let{destStat:d}=p;Sd(d,l,f,s,y=>y?a(y):Ia(t,n,i,s,a))})}function Od(t,e,n,i,s){_e.readlink(e,(a,l)=>{if(a)return s(a);if(i.dereference&&(l=Er.resolve(process.cwd(),l)),t)_e.readlink(n,(f,m)=>f?f.code==="EINVAL"||f.code==="UNKNOWN"?_e.symlink(l,n,s):s(f):(i.dereference&&(m=Er.resolve(process.cwd(),m)),vr.isSrcSubdir(l,m)?s(new Error(`Cannot copy '${l}' to a subdirectory of itself, '${m}'.`)):t.isDirectory()&&vr.isSrcSubdir(m,l)?s(new Error(`Cannot overwrite '${m}' with '${l}'.`)):kd(l,n,s)));else return _e.symlink(l,n,s)})}function kd(t,e,n){_e.unlink(e,i=>i?n(i):_e.symlink(t,e,n))}Wa.exports=gd});var Ua=A((Fy,ja)=>{"use strict";var ue=ce(),Tr=require("path"),qd=Le().mkdirsSync,Dd=Mi().utimesMillisSync,Pr=At();function Fd(t,e,n){typeof n=="function"&&(n={filter:n}),n=n||{},n.clobber="clobber"in n?!!n.clobber:!0,n.overwrite="overwrite"in n?!!n.overwrite:n.clobber,n.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0002");let{srcStat:i,destStat:s}=Pr.checkPathsSync(t,e,"copy",n);return Pr.checkParentPathsSync(t,i,e,"copy"),Bd(s,t,e,n)}function Bd(t,e,n,i){if(i.filter&&!i.filter(e,n))return;let s=Tr.dirname(n);return ue.existsSync(s)||qd(s),Na(t,e,n,i)}function Ld(t,e,n,i){if(!(i.filter&&!i.filter(e,n)))return Na(t,e,n,i)}function Na(t,e,n,i){let a=(i.dereference?ue.statSync:ue.lstatSync)(e);if(a.isDirectory())return jd(a,t,e,n,i);if(a.isFile()||a.isCharacterDevice()||a.isBlockDevice())return Id(a,t,e,n,i);if(a.isSymbolicLink())return Hd(t,e,n,i);throw a.isSocket()?new Error(`Cannot copy a socket file: ${e}`):a.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${e}`):new Error(`Unknown file: ${e}`)}function Id(t,e,n,i,s){return e?Wd(t,n,i,s):Ma(t,n,i,s)}function Wd(t,e,n,i){if(i.overwrite)return ue.unlinkSync(n),Ma(t,e,n,i);if(i.errorOnExist)throw new Error(`'${n}' already exists`)}function Ma(t,e,n,i){return ue.copyFileSync(e,n),i.preserveTimestamps&&xd(t.mode,e,n),ji(n,t.mode)}function xd(t,e,n){return Nd(t)&&Md(n,t),$d(e,n)}function Nd(t){return(t&128)===0}function Md(t,e){return ji(t,e|128)}function ji(t,e){return ue.chmodSync(t,e)}function $d(t,e){let n=ue.statSync(t);return Dd(e,n.atime,n.mtime)}function jd(t,e,n,i,s){return e?$a(n,i,s):Ud(t.mode,n,i,s)}function Ud(t,e,n,i){return ue.mkdirSync(n),$a(e,n,i),ji(n,t)}function $a(t,e,n){ue.readdirSync(t).forEach(i=>zd(i,t,e,n))}function zd(t,e,n,i){let s=Tr.join(e,t),a=Tr.join(n,t),{destStat:l}=Pr.checkPathsSync(s,a,"copy",i);return Ld(l,s,a,i)}function Hd(t,e,n,i){let s=ue.readlinkSync(e);if(i.dereference&&(s=Tr.resolve(process.cwd(),s)),t){let a;try{a=ue.readlinkSync(n)}catch(l){if(l.code==="EINVAL"||l.code==="UNKNOWN")return ue.symlinkSync(s,n);throw l}if(i.dereference&&(a=Tr.resolve(process.cwd(),a)),Pr.isSrcSubdir(s,a))throw new Error(`Cannot copy '${s}' to a subdirectory of itself, '${a}'.`);if(ue.statSync(n).isDirectory()&&Pr.isSrcSubdir(a,s))throw new Error(`Cannot overwrite '${a}' with '${s}'.`);return Vd(s,n)}else return ue.symlinkSync(s,n)}function Vd(t,e){return ue.unlinkSync(e),ue.symlinkSync(t,e)}ja.exports=Fd});var On=A((By,za)=>{"use strict";var Yd=ge().fromCallback;za.exports={copy:Yd(xa()),copySync:Ua()}});var Za=A((Ly,Xa)=>{"use strict";var Ha=ce(),Qa=require("path"),z=require("assert"),Cr=process.platform==="win32";function Ja(t){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(n=>{t[n]=t[n]||Ha[n],n=n+"Sync",t[n]=t[n]||Ha[n]}),t.maxBusyTries=t.maxBusyTries||3}function Ui(t,e,n){let i=0;typeof e=="function"&&(n=e,e={}),z(t,"rimraf: missing path"),z.strictEqual(typeof t,"string","rimraf: path should be a string"),z.strictEqual(typeof n,"function","rimraf: callback function required"),z(e,"rimraf: invalid options argument provided"),z.strictEqual(typeof e,"object","rimraf: options should be object"),Ja(e),Va(t,e,function s(a){if(a){if((a.code==="EBUSY"||a.code==="ENOTEMPTY"||a.code==="EPERM")&&i<e.maxBusyTries){i++;let l=i*100;return setTimeout(()=>Va(t,e,s),l)}a.code==="ENOENT"&&(a=null)}n(a)})}function Va(t,e,n){z(t),z(e),z(typeof n=="function"),e.lstat(t,(i,s)=>{if(i&&i.code==="ENOENT")return n(null);if(i&&i.code==="EPERM"&&Cr)return Ya(t,e,i,n);if(s&&s.isDirectory())return kn(t,e,i,n);e.unlink(t,a=>{if(a){if(a.code==="ENOENT")return n(null);if(a.code==="EPERM")return Cr?Ya(t,e,a,n):kn(t,e,a,n);if(a.code==="EISDIR")return kn(t,e,a,n)}return n(a)})})}function Ya(t,e,n,i){z(t),z(e),z(typeof i=="function"),e.chmod(t,438,s=>{s?i(s.code==="ENOENT"?null:n):e.stat(t,(a,l)=>{a?i(a.code==="ENOENT"?null:n):l.isDirectory()?kn(t,e,n,i):e.unlink(t,i)})})}function Ga(t,e,n){let i;z(t),z(e);try{e.chmodSync(t,438)}catch(s){if(s.code==="ENOENT")return;throw n}try{i=e.statSync(t)}catch(s){if(s.code==="ENOENT")return;throw n}i.isDirectory()?qn(t,e,n):e.unlinkSync(t)}function kn(t,e,n,i){z(t),z(e),z(typeof i=="function"),e.rmdir(t,s=>{s&&(s.code==="ENOTEMPTY"||s.code==="EEXIST"||s.code==="EPERM")?Gd(t,e,i):s&&s.code==="ENOTDIR"?i(n):i(s)})}function Gd(t,e,n){z(t),z(e),z(typeof n=="function"),e.readdir(t,(i,s)=>{if(i)return n(i);let a=s.length,l;if(a===0)return e.rmdir(t,n);s.forEach(f=>{Ui(Qa.join(t,f),e,m=>{if(!l){if(m)return n(l=m);--a===0&&e.rmdir(t,n)}})})})}function Ka(t,e){let n;e=e||{},Ja(e),z(t,"rimraf: missing path"),z.strictEqual(typeof t,"string","rimraf: path should be a string"),z(e,"rimraf: missing options"),z.strictEqual(typeof e,"object","rimraf: options should be object");try{n=e.lstatSync(t)}catch(i){if(i.code==="ENOENT")return;i.code==="EPERM"&&Cr&&Ga(t,e,i)}try{n&&n.isDirectory()?qn(t,e,null):e.unlinkSync(t)}catch(i){if(i.code==="ENOENT")return;if(i.code==="EPERM")return Cr?Ga(t,e,i):qn(t,e,i);if(i.code!=="EISDIR")throw i;qn(t,e,i)}}function qn(t,e,n){z(t),z(e);try{e.rmdirSync(t)}catch(i){if(i.code==="ENOTDIR")throw n;if(i.code==="ENOTEMPTY"||i.code==="EEXIST"||i.code==="EPERM")Qd(t,e);else if(i.code!=="ENOENT")throw i}}function Qd(t,e){if(z(t),z(e),e.readdirSync(t).forEach(n=>Ka(Qa.join(t,n),e)),Cr){let n=Date.now();do try{return e.rmdirSync(t,e)}catch{}while(Date.now()-n<500)}else return e.rmdirSync(t,e)}Xa.exports=Ui;Ui.sync=Ka});var Ar=A((Iy,tu)=>{"use strict";var Dn=ce(),Jd=ge().fromCallback,eu=Za();function Kd(t,e){if(Dn.rm)return Dn.rm(t,{recursive:!0,force:!0},e);eu(t,e)}function Xd(t){if(Dn.rmSync)return Dn.rmSync(t,{recursive:!0,force:!0});eu.sync(t)}tu.exports={remove:Jd(Kd),removeSync:Xd}});var lu=A((Wy,uu)=>{"use strict";var Zd=ge().fromPromise,iu=Ct(),ou=require("path"),su=Le(),au=Ar(),ru=Zd(async function(e){let n;try{n=await iu.readdir(e)}catch{return su.mkdirs(e)}return Promise.all(n.map(i=>au.remove(ou.join(e,i))))});function nu(t){let e;try{e=iu.readdirSync(t)}catch{return su.mkdirsSync(t)}e.forEach(n=>{n=ou.join(t,n),au.removeSync(n)})}uu.exports={emptyDirSync:nu,emptydirSync:nu,emptyDir:ru,emptydir:ru}});var hu=A((xy,du)=>{"use strict";var eh=ge().fromCallback,cu=require("path"),ct=ce(),fu=Le();function th(t,e){function n(){ct.writeFile(t,"",i=>{if(i)return e(i);e()})}ct.stat(t,(i,s)=>{if(!i&&s.isFile())return e();let a=cu.dirname(t);ct.stat(a,(l,f)=>{if(l)return l.code==="ENOENT"?fu.mkdirs(a,m=>{if(m)return e(m);n()}):e(l);f.isDirectory()?n():ct.readdir(a,m=>{if(m)return e(m)})})})}function rh(t){let e;try{e=ct.statSync(t)}catch{}if(e&&e.isFile())return;let n=cu.dirname(t);try{ct.statSync(n).isDirectory()||ct.readdirSync(n)}catch(i){if(i&&i.code==="ENOENT")fu.mkdirsSync(n);else throw i}ct.writeFileSync(t,"")}du.exports={createFile:eh(th),createFileSync:rh}});var gu=A((Ny,bu)=>{"use strict";var nh=ge().fromCallback,mu=require("path"),ft=ce(),pu=Le(),ih=lt().pathExists,{areIdentical:yu}=At();function oh(t,e,n){function i(s,a){ft.link(s,a,l=>{if(l)return n(l);n(null)})}ft.lstat(e,(s,a)=>{ft.lstat(t,(l,f)=>{if(l)return l.message=l.message.replace("lstat","ensureLink"),n(l);if(a&&yu(f,a))return n(null);let m=mu.dirname(e);ih(m,(p,d)=>{if(p)return n(p);if(d)return i(t,e);pu.mkdirs(m,y=>{if(y)return n(y);i(t,e)})})})})}function sh(t,e){let n;try{n=ft.lstatSync(e)}catch{}try{let a=ft.lstatSync(t);if(n&&yu(a,n))return}catch(a){throw a.message=a.message.replace("lstat","ensureLink"),a}let i=mu.dirname(e);return ft.existsSync(i)||pu.mkdirsSync(i),ft.linkSync(t,e)}bu.exports={createLink:nh(oh),createLinkSync:sh}});var _u=A((My,Su)=>{"use strict";var dt=require("path"),Or=ce(),ah=lt().pathExists;function uh(t,e,n){if(dt.isAbsolute(t))return Or.lstat(t,i=>i?(i.message=i.message.replace("lstat","ensureSymlink"),n(i)):n(null,{toCwd:t,toDst:t}));{let i=dt.dirname(e),s=dt.join(i,t);return ah(s,(a,l)=>a?n(a):l?n(null,{toCwd:s,toDst:t}):Or.lstat(t,f=>f?(f.message=f.message.replace("lstat","ensureSymlink"),n(f)):n(null,{toCwd:t,toDst:dt.relative(i,t)})))}}function lh(t,e){let n;if(dt.isAbsolute(t)){if(n=Or.existsSync(t),!n)throw new Error("absolute srcpath does not exist");return{toCwd:t,toDst:t}}else{let i=dt.dirname(e),s=dt.join(i,t);if(n=Or.existsSync(s),n)return{toCwd:s,toDst:t};if(n=Or.existsSync(t),!n)throw new Error("relative srcpath does not exist");return{toCwd:t,toDst:dt.relative(i,t)}}}Su.exports={symlinkPaths:uh,symlinkPathsSync:lh}});var Eu=A(($y,Ru)=>{"use strict";var wu=ce();function ch(t,e,n){if(n=typeof e=="function"?e:n,e=typeof e=="function"?!1:e,e)return n(null,e);wu.lstat(t,(i,s)=>{if(i)return n(null,"file");e=s&&s.isDirectory()?"dir":"file",n(null,e)})}function fh(t,e){let n;if(e)return e;try{n=wu.lstatSync(t)}catch{return"file"}return n&&n.isDirectory()?"dir":"file"}Ru.exports={symlinkType:ch,symlinkTypeSync:fh}});var qu=A((jy,ku)=>{"use strict";var dh=ge().fromCallback,Tu=require("path"),Ie=Ct(),Pu=Le(),hh=Pu.mkdirs,mh=Pu.mkdirsSync,Cu=_u(),ph=Cu.symlinkPaths,yh=Cu.symlinkPathsSync,Au=Eu(),bh=Au.symlinkType,gh=Au.symlinkTypeSync,Sh=lt().pathExists,{areIdentical:Ou}=At();function _h(t,e,n,i){i=typeof n=="function"?n:i,n=typeof n=="function"?!1:n,Ie.lstat(e,(s,a)=>{!s&&a.isSymbolicLink()?Promise.all([Ie.stat(t),Ie.stat(e)]).then(([l,f])=>{if(Ou(l,f))return i(null);vu(t,e,n,i)}):vu(t,e,n,i)})}function vu(t,e,n,i){ph(t,e,(s,a)=>{if(s)return i(s);t=a.toDst,bh(a.toCwd,n,(l,f)=>{if(l)return i(l);let m=Tu.dirname(e);Sh(m,(p,d)=>{if(p)return i(p);if(d)return Ie.symlink(t,e,f,i);hh(m,y=>{if(y)return i(y);Ie.symlink(t,e,f,i)})})})})}function wh(t,e,n){let i;try{i=Ie.lstatSync(e)}catch{}if(i&&i.isSymbolicLink()){let f=Ie.statSync(t),m=Ie.statSync(e);if(Ou(f,m))return}let s=yh(t,e);t=s.toDst,n=gh(s.toCwd,n);let a=Tu.dirname(e);return Ie.existsSync(a)||mh(a),Ie.symlinkSync(t,e,n)}ku.exports={createSymlink:dh(_h),createSymlinkSync:wh}});var Nu=A((Uy,xu)=>{"use strict";var{createFile:Du,createFileSync:Fu}=hu(),{createLink:Bu,createLinkSync:Lu}=gu(),{createSymlink:Iu,createSymlinkSync:Wu}=qu();xu.exports={createFile:Du,createFileSync:Fu,ensureFile:Du,ensureFileSync:Fu,createLink:Bu,createLinkSync:Lu,ensureLink:Bu,ensureLinkSync:Lu,createSymlink:Iu,createSymlinkSync:Wu,ensureSymlink:Iu,ensureSymlinkSync:Wu}});var Fn=A((zy,Mu)=>{function Rh(t,{EOL:e=`
`,finalEOL:n=!0,replacer:i=null,spaces:s}={}){let a=n?e:"";return JSON.stringify(t,i,s).replace(/\n/g,e)+a}function Eh(t){return Buffer.isBuffer(t)&&(t=t.toString("utf8")),t.replace(/^\uFEFF/,"")}Mu.exports={stringify:Rh,stripBom:Eh}});var zu=A((Hy,Uu)=>{var Vt;try{Vt=ce()}catch{Vt=require("fs")}var Bn=ge(),{stringify:$u,stripBom:ju}=Fn();async function vh(t,e={}){typeof e=="string"&&(e={encoding:e});let n=e.fs||Vt,i="throws"in e?e.throws:!0,s=await Bn.fromCallback(n.readFile)(t,e);s=ju(s);let a;try{a=JSON.parse(s,e?e.reviver:null)}catch(l){if(i)throw l.message=`${t}: ${l.message}`,l;return null}return a}var Th=Bn.fromPromise(vh);function Ph(t,e={}){typeof e=="string"&&(e={encoding:e});let n=e.fs||Vt,i="throws"in e?e.throws:!0;try{let s=n.readFileSync(t,e);return s=ju(s),JSON.parse(s,e.reviver)}catch(s){if(i)throw s.message=`${t}: ${s.message}`,s;return null}}async function Ch(t,e,n={}){let i=n.fs||Vt,s=$u(e,n);await Bn.fromCallback(i.writeFile)(t,s,n)}var Ah=Bn.fromPromise(Ch);function Oh(t,e,n={}){let i=n.fs||Vt,s=$u(e,n);return i.writeFileSync(t,s,n)}var kh={readFile:Th,readFileSync:Ph,writeFile:Ah,writeFileSync:Oh};Uu.exports=kh});var Vu=A((Vy,Hu)=>{"use strict";var Ln=zu();Hu.exports={readJson:Ln.readFile,readJsonSync:Ln.readFileSync,writeJson:Ln.writeFile,writeJsonSync:Ln.writeFileSync}});var In=A((Yy,Qu)=>{"use strict";var qh=ge().fromCallback,kr=ce(),Yu=require("path"),Gu=Le(),Dh=lt().pathExists;function Fh(t,e,n,i){typeof n=="function"&&(i=n,n="utf8");let s=Yu.dirname(t);Dh(s,(a,l)=>{if(a)return i(a);if(l)return kr.writeFile(t,e,n,i);Gu.mkdirs(s,f=>{if(f)return i(f);kr.writeFile(t,e,n,i)})})}function Bh(t,...e){let n=Yu.dirname(t);if(kr.existsSync(n))return kr.writeFileSync(t,...e);Gu.mkdirsSync(n),kr.writeFileSync(t,...e)}Qu.exports={outputFile:qh(Fh),outputFileSync:Bh}});var Ku=A((Gy,Ju)=>{"use strict";var{stringify:Lh}=Fn(),{outputFile:Ih}=In();async function Wh(t,e,n={}){let i=Lh(e,n);await Ih(t,i,n)}Ju.exports=Wh});var Zu=A((Qy,Xu)=>{"use strict";var{stringify:xh}=Fn(),{outputFileSync:Nh}=In();function Mh(t,e,n){let i=xh(e,n);Nh(t,i,n)}Xu.exports=Mh});var tl=A((Jy,el)=>{"use strict";var $h=ge().fromPromise,fe=Vu();fe.outputJson=$h(Ku());fe.outputJsonSync=Zu();fe.outputJSON=fe.outputJson;fe.outputJSONSync=fe.outputJsonSync;fe.writeJSON=fe.writeJson;fe.writeJSONSync=fe.writeJsonSync;fe.readJSON=fe.readJson;fe.readJSONSync=fe.readJsonSync;el.exports=fe});var sl=A((Ky,ol)=>{"use strict";var jh=ce(),Hi=require("path"),Uh=On().copy,il=Ar().remove,zh=Le().mkdirp,Hh=lt().pathExists,rl=At();function Vh(t,e,n,i){typeof n=="function"&&(i=n,n={}),n=n||{};let s=n.overwrite||n.clobber||!1;rl.checkPaths(t,e,"move",n,(a,l)=>{if(a)return i(a);let{srcStat:f,isChangingCase:m=!1}=l;rl.checkParentPaths(t,f,e,"move",p=>{if(p)return i(p);if(Yh(e))return nl(t,e,s,m,i);zh(Hi.dirname(e),d=>d?i(d):nl(t,e,s,m,i))})})}function Yh(t){let e=Hi.dirname(t);return Hi.parse(e).root===e}function nl(t,e,n,i,s){if(i)return zi(t,e,n,s);if(n)return il(e,a=>a?s(a):zi(t,e,n,s));Hh(e,(a,l)=>a?s(a):l?s(new Error("dest already exists.")):zi(t,e,n,s))}function zi(t,e,n,i){jh.rename(t,e,s=>s?s.code!=="EXDEV"?i(s):Gh(t,e,n,i):i())}function Gh(t,e,n,i){Uh(t,e,{overwrite:n,errorOnExist:!0},a=>a?i(a):il(t,i))}ol.exports=Vh});var fl=A((Xy,cl)=>{"use strict";var ul=ce(),Yi=require("path"),Qh=On().copySync,ll=Ar().removeSync,Jh=Le().mkdirpSync,al=At();function Kh(t,e,n){n=n||{};let i=n.overwrite||n.clobber||!1,{srcStat:s,isChangingCase:a=!1}=al.checkPathsSync(t,e,"move",n);return al.checkParentPathsSync(t,s,e,"move"),Xh(e)||Jh(Yi.dirname(e)),Zh(t,e,i,a)}function Xh(t){let e=Yi.dirname(t);return Yi.parse(e).root===e}function Zh(t,e,n,i){if(i)return Vi(t,e,n);if(n)return ll(e),Vi(t,e,n);if(ul.existsSync(e))throw new Error("dest already exists.");return Vi(t,e,n)}function Vi(t,e,n){try{ul.renameSync(t,e)}catch(i){if(i.code!=="EXDEV")throw i;return em(t,e,n)}}function em(t,e,n){return Qh(t,e,{overwrite:n,errorOnExist:!0}),ll(t)}cl.exports=Kh});var hl=A((Zy,dl)=>{"use strict";var tm=ge().fromCallback;dl.exports={move:tm(sl()),moveSync:fl()}});var pl=A((eb,ml)=>{"use strict";ml.exports=me(me(me(me(me(me(me(me(me(me({},Ct()),On()),lu()),Nu()),tl()),Le()),hl()),In()),lt()),Ar())});var Wn=A(Yt=>{"use strict";Object.defineProperty(Yt,"__esModule",{value:!0});Yt.toCommandProperties=Yt.toCommandValue=void 0;function rm(t){return t==null?"":typeof t=="string"||t instanceof String?t:JSON.stringify(t)}Yt.toCommandValue=rm;function nm(t){return Object.keys(t).length?{title:t.title,file:t.file,line:t.startLine,endLine:t.endLine,col:t.startColumn,endColumn:t.endColumn}:{}}Yt.toCommandProperties=nm});var Sl=A(Ce=>{"use strict";var im=Ce&&Ce.__createBinding||(Object.create?function(t,e,n,i){i===void 0&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){i===void 0&&(i=n),t[i]=e[n]}),om=Ce&&Ce.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),sm=Ce&&Ce.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.hasOwnProperty.call(t,n)&&im(e,t,n);return om(e,t),e};Object.defineProperty(Ce,"__esModule",{value:!0});Ce.issue=Ce.issueCommand=void 0;var am=sm(require("os")),bl=Wn();function gl(t,e,n){let i=new Gi(t,e,n);process.stdout.write(i.toString()+am.EOL)}Ce.issueCommand=gl;function um(t,e=""){gl(t,{},e)}Ce.issue=um;var yl="::",Gi=class{constructor(e,n,i){e||(e="missing.command"),this.command=e,this.properties=n,this.message=i}toString(){let e=yl+this.command;if(this.properties&&Object.keys(this.properties).length>0){e+=" ";let n=!0;for(let i in this.properties)if(this.properties.hasOwnProperty(i)){let s=this.properties[i];s&&(n?n=!1:e+=",",e+=`${i}=${cm(s)}`)}}return e+=`${yl}${lm(this.message)}`,e}};function lm(t){return bl.toCommandValue(t).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function cm(t){return bl.toCommandValue(t).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}});var Rl=A(je=>{"use strict";var fm=je&&je.__createBinding||(Object.create?function(t,e,n,i){i===void 0&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){i===void 0&&(i=n),t[i]=e[n]}),dm=je&&je.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),wl=je&&je.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.hasOwnProperty.call(t,n)&&fm(e,t,n);return dm(e,t),e};Object.defineProperty(je,"__esModule",{value:!0});je.issueCommand=void 0;var _l=wl(require("fs")),hm=wl(require("os")),mm=Wn();function pm(t,e){let n=process.env[`GITHUB_${t}`];if(!n)throw new Error(`Unable to find environment variable for file command ${t}`);if(!_l.existsSync(n))throw new Error(`Missing file at path: ${n}`);_l.appendFileSync(n,`${mm.toCommandValue(e)}${hm.EOL}`,{encoding:"utf8"})}je.issueCommand=pm});var vl=A(Gt=>{"use strict";Object.defineProperty(Gt,"__esModule",{value:!0});Gt.checkBypass=Gt.getProxyUrl=void 0;function ym(t){let e=t.protocol==="https:";if(El(t))return;let n=(()=>e?process.env.https_proxy||process.env.HTTPS_PROXY:process.env.http_proxy||process.env.HTTP_PROXY)();if(n)return new URL(n)}Gt.getProxyUrl=ym;function El(t){if(!t.hostname)return!1;let e=process.env.no_proxy||process.env.NO_PROXY||"";if(!e)return!1;let n;t.port?n=Number(t.port):t.protocol==="http:"?n=80:t.protocol==="https:"&&(n=443);let i=[t.hostname.toUpperCase()];typeof n=="number"&&i.push(`${i[0]}:${n}`);for(let s of e.split(",").map(a=>a.trim().toUpperCase()).filter(a=>a))if(i.some(a=>a===s))return!0;return!1}Gt.checkBypass=El});var Al=A(Qt=>{"use strict";var ob=require("net"),bm=require("tls"),Qi=require("http"),Tl=require("https"),gm=require("events"),sb=require("assert"),Sm=require("util");Qt.httpOverHttp=_m;Qt.httpsOverHttp=wm;Qt.httpOverHttps=Rm;Qt.httpsOverHttps=Em;function _m(t){var e=new Xe(t);return e.request=Qi.request,e}function wm(t){var e=new Xe(t);return e.request=Qi.request,e.createSocket=Pl,e.defaultPort=443,e}function Rm(t){var e=new Xe(t);return e.request=Tl.request,e}function Em(t){var e=new Xe(t);return e.request=Tl.request,e.createSocket=Pl,e.defaultPort=443,e}function Xe(t){var e=this;e.options=t||{},e.proxyOptions=e.options.proxy||{},e.maxSockets=e.options.maxSockets||Qi.Agent.defaultMaxSockets,e.requests=[],e.sockets=[],e.on("free",function(i,s,a,l){for(var f=Cl(s,a,l),m=0,p=e.requests.length;m<p;++m){var d=e.requests[m];if(d.host===f.host&&d.port===f.port){e.requests.splice(m,1),d.request.onSocket(i);return}}i.destroy(),e.removeSocket(i)})}Sm.inherits(Xe,gm.EventEmitter);Xe.prototype.addRequest=function(e,n,i,s){var a=this,l=Ji({request:e},a.options,Cl(n,i,s));if(a.sockets.length>=this.maxSockets){a.requests.push(l);return}a.createSocket(l,function(f){f.on("free",m),f.on("close",p),f.on("agentRemove",p),e.onSocket(f);function m(){a.emit("free",f,l)}function p(d){a.removeSocket(f),f.removeListener("free",m),f.removeListener("close",p),f.removeListener("agentRemove",p)}})};Xe.prototype.createSocket=function(e,n){var i=this,s={};i.sockets.push(s);var a=Ji({},i.proxyOptions,{method:"CONNECT",path:e.host+":"+e.port,agent:!1,headers:{host:e.host+":"+e.port}});e.localAddress&&(a.localAddress=e.localAddress),a.proxyAuth&&(a.headers=a.headers||{},a.headers["Proxy-Authorization"]="Basic "+new Buffer(a.proxyAuth).toString("base64")),ht("making CONNECT request");var l=i.request(a);l.useChunkedEncodingByDefault=!1,l.once("response",f),l.once("upgrade",m),l.once("connect",p),l.once("error",d),l.end();function f(y){y.upgrade=!0}function m(y,S,b){process.nextTick(function(){p(y,S,b)})}function p(y,S,b){if(l.removeAllListeners(),S.removeAllListeners(),y.statusCode!==200){ht("tunneling socket could not be established, statusCode=%d",y.statusCode),S.destroy();var g=new Error("tunneling socket could not be established, statusCode="+y.statusCode);g.code="ECONNRESET",e.request.emit("error",g),i.removeSocket(s);return}if(b.length>0){ht("got illegal response body from proxy"),S.destroy();var g=new Error("got illegal response body from proxy");g.code="ECONNRESET",e.request.emit("error",g),i.removeSocket(s);return}return ht("tunneling connection has established"),i.sockets[i.sockets.indexOf(s)]=S,n(S)}function d(y){l.removeAllListeners(),ht(`tunneling socket could not be established, cause=%s
`,y.message,y.stack);var S=new Error("tunneling socket could not be established, cause="+y.message);S.code="ECONNRESET",e.request.emit("error",S),i.removeSocket(s)}};Xe.prototype.removeSocket=function(e){var n=this.sockets.indexOf(e);if(n!==-1){this.sockets.splice(n,1);var i=this.requests.shift();i&&this.createSocket(i,function(s){i.request.onSocket(s)})}};function Pl(t,e){var n=this;Xe.prototype.createSocket.call(n,t,function(i){var s=t.request.getHeader("host"),a=Ji({},n.options,{socket:i,servername:s?s.replace(/:.*$/,""):t.host}),l=bm.connect(0,a);n.sockets[n.sockets.indexOf(i)]=l,e(l)})}function Cl(t,e,n){return typeof t=="string"?{host:t,port:e,localAddress:n}:t}function Ji(t){for(var e=1,n=arguments.length;e<n;++e){var i=arguments[e];if(typeof i=="object")for(var s=Object.keys(i),a=0,l=s.length;a<l;++a){var f=s[a];i[f]!==void 0&&(t[f]=i[f])}}return t}var ht;process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)?ht=function(){var t=Array.prototype.slice.call(arguments);typeof t[0]=="string"?t[0]="TUNNEL: "+t[0]:t.unshift("TUNNEL:"),console.error.apply(console,t)}:ht=function(){};Qt.debug=ht});var kl=A((ub,Ol)=>{Ol.exports=Al()});var Dl=A($=>{"use strict";var vm=$&&$.__createBinding||(Object.create?function(t,e,n,i){i===void 0&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){i===void 0&&(i=n),t[i]=e[n]}),Tm=$&&$.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),jn=$&&$.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.hasOwnProperty.call(t,n)&&vm(e,t,n);return Tm(e,t),e},re=$&&$.__awaiter||function(t,e,n,i){function s(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function f(d){try{p(i.next(d))}catch(y){l(y)}}function m(d){try{p(i.throw(d))}catch(y){l(y)}}function p(d){d.done?a(d.value):s(d.value).then(f,m)}p((i=i.apply(t,e||[])).next())})};Object.defineProperty($,"__esModule",{value:!0});$.HttpClient=$.isHttps=$.HttpClientResponse=$.HttpClientError=$.getProxyUrl=$.MediaTypes=$.Headers=$.HttpCodes=void 0;var xn=jn(require("http")),Ki=jn(require("https")),ql=jn(vl()),Nn=jn(kl()),We;(function(t){t[t.OK=200]="OK",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.ResourceMoved=302]="ResourceMoved",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.SwitchProxy=306]="SwitchProxy",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.TooManyRequests=429]="TooManyRequests",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout"})(We=$.HttpCodes||($.HttpCodes={}));var de;(function(t){t.Accept="accept",t.ContentType="content-type"})(de=$.Headers||($.Headers={}));var mt;(function(t){t.ApplicationJson="application/json"})(mt=$.MediaTypes||($.MediaTypes={}));function Pm(t){let e=ql.getProxyUrl(new URL(t));return e?e.href:""}$.getProxyUrl=Pm;var Cm=[We.MovedPermanently,We.ResourceMoved,We.SeeOther,We.TemporaryRedirect,We.PermanentRedirect],Am=[We.BadGateway,We.ServiceUnavailable,We.GatewayTimeout],Om=["OPTIONS","GET","DELETE","HEAD"],km=10,qm=5,Jt=class extends Error{constructor(e,n){super(e),this.name="HttpClientError",this.statusCode=n,Object.setPrototypeOf(this,Jt.prototype)}};$.HttpClientError=Jt;var $n=class{constructor(e){this.message=e}readBody(){return re(this,void 0,void 0,function*(){return new Promise(e=>re(this,void 0,void 0,function*(){let n=Buffer.alloc(0);this.message.on("data",i=>{n=Buffer.concat([n,i])}),this.message.on("end",()=>{e(n.toString())})}))})}};$.HttpClientResponse=$n;function Dm(t){return new URL(t).protocol==="https:"}$.isHttps=Dm;var Xi=class{constructor(e,n,i){this._ignoreSslError=!1,this._allowRedirects=!0,this._allowRedirectDowngrade=!1,this._maxRedirects=50,this._allowRetries=!1,this._maxRetries=1,this._keepAlive=!1,this._disposed=!1,this.userAgent=e,this.handlers=n||[],this.requestOptions=i,i&&(i.ignoreSslError!=null&&(this._ignoreSslError=i.ignoreSslError),this._socketTimeout=i.socketTimeout,i.allowRedirects!=null&&(this._allowRedirects=i.allowRedirects),i.allowRedirectDowngrade!=null&&(this._allowRedirectDowngrade=i.allowRedirectDowngrade),i.maxRedirects!=null&&(this._maxRedirects=Math.max(i.maxRedirects,0)),i.keepAlive!=null&&(this._keepAlive=i.keepAlive),i.allowRetries!=null&&(this._allowRetries=i.allowRetries),i.maxRetries!=null&&(this._maxRetries=i.maxRetries))}options(e,n){return re(this,void 0,void 0,function*(){return this.request("OPTIONS",e,null,n||{})})}get(e,n){return re(this,void 0,void 0,function*(){return this.request("GET",e,null,n||{})})}del(e,n){return re(this,void 0,void 0,function*(){return this.request("DELETE",e,null,n||{})})}post(e,n,i){return re(this,void 0,void 0,function*(){return this.request("POST",e,n,i||{})})}patch(e,n,i){return re(this,void 0,void 0,function*(){return this.request("PATCH",e,n,i||{})})}put(e,n,i){return re(this,void 0,void 0,function*(){return this.request("PUT",e,n,i||{})})}head(e,n){return re(this,void 0,void 0,function*(){return this.request("HEAD",e,null,n||{})})}sendStream(e,n,i,s){return re(this,void 0,void 0,function*(){return this.request(e,n,i,s)})}getJson(e,n={}){return re(this,void 0,void 0,function*(){n[de.Accept]=this._getExistingOrDefaultHeader(n,de.Accept,mt.ApplicationJson);let i=yield this.get(e,n);return this._processResponse(i,this.requestOptions)})}postJson(e,n,i={}){return re(this,void 0,void 0,function*(){let s=JSON.stringify(n,null,2);i[de.Accept]=this._getExistingOrDefaultHeader(i,de.Accept,mt.ApplicationJson),i[de.ContentType]=this._getExistingOrDefaultHeader(i,de.ContentType,mt.ApplicationJson);let a=yield this.post(e,s,i);return this._processResponse(a,this.requestOptions)})}putJson(e,n,i={}){return re(this,void 0,void 0,function*(){let s=JSON.stringify(n,null,2);i[de.Accept]=this._getExistingOrDefaultHeader(i,de.Accept,mt.ApplicationJson),i[de.ContentType]=this._getExistingOrDefaultHeader(i,de.ContentType,mt.ApplicationJson);let a=yield this.put(e,s,i);return this._processResponse(a,this.requestOptions)})}patchJson(e,n,i={}){return re(this,void 0,void 0,function*(){let s=JSON.stringify(n,null,2);i[de.Accept]=this._getExistingOrDefaultHeader(i,de.Accept,mt.ApplicationJson),i[de.ContentType]=this._getExistingOrDefaultHeader(i,de.ContentType,mt.ApplicationJson);let a=yield this.patch(e,s,i);return this._processResponse(a,this.requestOptions)})}request(e,n,i,s){return re(this,void 0,void 0,function*(){if(this._disposed)throw new Error("Client has already been disposed.");let a=new URL(n),l=this._prepareRequest(e,a,s),f=this._allowRetries&&Om.includes(e)?this._maxRetries+1:1,m=0,p;do{if(p=yield this.requestRaw(l,i),p&&p.message&&p.message.statusCode===We.Unauthorized){let y;for(let S of this.handlers)if(S.canHandleAuthentication(p)){y=S;break}return y?y.handleAuthentication(this,l,i):p}let d=this._maxRedirects;for(;p.message.statusCode&&Cm.includes(p.message.statusCode)&&this._allowRedirects&&d>0;){let y=p.message.headers.location;if(!y)break;let S=new URL(y);if(a.protocol==="https:"&&a.protocol!==S.protocol&&!this._allowRedirectDowngrade)throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.");if(yield p.readBody(),S.hostname!==a.hostname)for(let b in s)b.toLowerCase()==="authorization"&&delete s[b];l=this._prepareRequest(e,S,s),p=yield this.requestRaw(l,i),d--}if(!p.message.statusCode||!Am.includes(p.message.statusCode))return p;m+=1,m<f&&(yield p.readBody(),yield this._performExponentialBackoff(m))}while(m<f);return p})}dispose(){this._agent&&this._agent.destroy(),this._disposed=!0}requestRaw(e,n){return re(this,void 0,void 0,function*(){return new Promise((i,s)=>{function a(l,f){l?s(l):f?i(f):s(new Error("Unknown error"))}this.requestRawWithCallback(e,n,a)})})}requestRawWithCallback(e,n,i){typeof n=="string"&&(e.options.headers||(e.options.headers={}),e.options.headers["Content-Length"]=Buffer.byteLength(n,"utf8"));let s=!1;function a(m,p){s||(s=!0,i(m,p))}let l=e.httpModule.request(e.options,m=>{let p=new $n(m);a(void 0,p)}),f;l.on("socket",m=>{f=m}),l.setTimeout(this._socketTimeout||3*6e4,()=>{f&&f.end(),a(new Error(`Request timeout: ${e.options.path}`))}),l.on("error",function(m){a(m)}),n&&typeof n=="string"&&l.write(n,"utf8"),n&&typeof n!="string"?(n.on("close",function(){l.end()}),n.pipe(l)):l.end()}getAgent(e){let n=new URL(e);return this._getAgent(n)}_prepareRequest(e,n,i){let s={};s.parsedUrl=n;let a=s.parsedUrl.protocol==="https:";s.httpModule=a?Ki:xn;let l=a?443:80;if(s.options={},s.options.host=s.parsedUrl.hostname,s.options.port=s.parsedUrl.port?parseInt(s.parsedUrl.port):l,s.options.path=(s.parsedUrl.pathname||"")+(s.parsedUrl.search||""),s.options.method=e,s.options.headers=this._mergeHeaders(i),this.userAgent!=null&&(s.options.headers["user-agent"]=this.userAgent),s.options.agent=this._getAgent(s.parsedUrl),this.handlers)for(let f of this.handlers)f.prepareRequest(s.options);return s}_mergeHeaders(e){return this.requestOptions&&this.requestOptions.headers?Object.assign({},Mn(this.requestOptions.headers),Mn(e||{})):Mn(e||{})}_getExistingOrDefaultHeader(e,n,i){let s;return this.requestOptions&&this.requestOptions.headers&&(s=Mn(this.requestOptions.headers)[n]),e[n]||s||i}_getAgent(e){let n,i=ql.getProxyUrl(e),s=i&&i.hostname;if(this._keepAlive&&s&&(n=this._proxyAgent),this._keepAlive&&!s&&(n=this._agent),n)return n;let a=e.protocol==="https:",l=100;if(this.requestOptions&&(l=this.requestOptions.maxSockets||xn.globalAgent.maxSockets),i&&i.hostname){let f={maxSockets:l,keepAlive:this._keepAlive,proxy:Object.assign(Object.assign({},(i.username||i.password)&&{proxyAuth:`${i.username}:${i.password}`}),{host:i.hostname,port:i.port})},m,p=i.protocol==="https:";a?m=p?Nn.httpsOverHttps:Nn.httpsOverHttp:m=p?Nn.httpOverHttps:Nn.httpOverHttp,n=m(f),this._proxyAgent=n}if(this._keepAlive&&!n){let f={keepAlive:this._keepAlive,maxSockets:l};n=a?new Ki.Agent(f):new xn.Agent(f),this._agent=n}return n||(n=a?Ki.globalAgent:xn.globalAgent),a&&this._ignoreSslError&&(n.options=Object.assign(n.options||{},{rejectUnauthorized:!1})),n}_performExponentialBackoff(e){return re(this,void 0,void 0,function*(){e=Math.min(km,e);let n=qm*Math.pow(2,e);return new Promise(i=>setTimeout(()=>i(),n))})}_processResponse(e,n){return re(this,void 0,void 0,function*(){return new Promise((i,s)=>re(this,void 0,void 0,function*(){let a=e.message.statusCode||0,l={statusCode:a,result:null,headers:{}};a===We.NotFound&&i(l);function f(d,y){if(typeof y=="string"){let S=new Date(y);if(!isNaN(S.valueOf()))return S}return y}let m,p;try{p=yield e.readBody(),p&&p.length>0&&(n&&n.deserializeDates?m=JSON.parse(p,f):m=JSON.parse(p),l.result=m),l.headers=e.message.headers}catch{}if(a>299){let d;m&&m.message?d=m.message:p&&p.length>0?d=p:d=`Failed request: (${a})`;let y=new Jt(d,a);y.result=l.result,s(y)}else i(l)}))})}};$.HttpClient=Xi;var Mn=t=>Object.keys(t).reduce((e,n)=>(e[n.toLowerCase()]=t[n],e),{})});var Fl=A(Ue=>{"use strict";var ro=Ue&&Ue.__awaiter||function(t,e,n,i){function s(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function f(d){try{p(i.next(d))}catch(y){l(y)}}function m(d){try{p(i.throw(d))}catch(y){l(y)}}function p(d){d.done?a(d.value):s(d.value).then(f,m)}p((i=i.apply(t,e||[])).next())})};Object.defineProperty(Ue,"__esModule",{value:!0});Ue.PersonalAccessTokenCredentialHandler=Ue.BearerCredentialHandler=Ue.BasicCredentialHandler=void 0;var Zi=class{constructor(e,n){this.username=e,this.password=n}prepareRequest(e){if(!e.headers)throw Error("The request has no headers");e.headers.Authorization=`Basic ${Buffer.from(`${this.username}:${this.password}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return ro(this,void 0,void 0,function*(){throw new Error("not implemented")})}};Ue.BasicCredentialHandler=Zi;var eo=class{constructor(e){this.token=e}prepareRequest(e){if(!e.headers)throw Error("The request has no headers");e.headers.Authorization=`Bearer ${this.token}`}canHandleAuthentication(){return!1}handleAuthentication(){return ro(this,void 0,void 0,function*(){throw new Error("not implemented")})}};Ue.BearerCredentialHandler=eo;var to=class{constructor(e){this.token=e}prepareRequest(e){if(!e.headers)throw Error("The request has no headers");e.headers.Authorization=`Basic ${Buffer.from(`PAT:${this.token}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return ro(this,void 0,void 0,function*(){throw new Error("not implemented")})}};Ue.PersonalAccessTokenCredentialHandler=to});var Il=A(Kt=>{"use strict";var Bl=Kt&&Kt.__awaiter||function(t,e,n,i){function s(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function f(d){try{p(i.next(d))}catch(y){l(y)}}function m(d){try{p(i.throw(d))}catch(y){l(y)}}function p(d){d.done?a(d.value):s(d.value).then(f,m)}p((i=i.apply(t,e||[])).next())})};Object.defineProperty(Kt,"__esModule",{value:!0});Kt.OidcClient=void 0;var Fm=Dl(),Bm=Fl(),Ll=no(),pt=class{static createHttpClient(e=!0,n=10){let i={allowRetries:e,maxRetries:n};return new Fm.HttpClient("actions/oidc-client",[new Bm.BearerCredentialHandler(pt.getRequestToken())],i)}static getRequestToken(){let e=process.env.ACTIONS_ID_TOKEN_REQUEST_TOKEN;if(!e)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable");return e}static getIDTokenUrl(){let e=process.env.ACTIONS_ID_TOKEN_REQUEST_URL;if(!e)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable");return e}static getCall(e){var n;return Bl(this,void 0,void 0,function*(){let a=(n=(yield pt.createHttpClient().getJson(e).catch(l=>{throw new Error(`Failed to get ID Token. 
 
        Error Code : ${l.statusCode}
 
        Error Message: ${l.result.message}`)})).result)===null||n===void 0?void 0:n.value;if(!a)throw new Error("Response json body do not have ID Token field");return a})}static getIDToken(e){return Bl(this,void 0,void 0,function*(){try{let n=pt.getIDTokenUrl();if(e){let s=encodeURIComponent(e);n=`${n}&audience=${s}`}Ll.debug(`ID token url is ${n}`);let i=yield pt.getCall(n);return Ll.setSecret(i),i}catch(n){throw new Error(`Error message: ${n.message}`)}})}};Kt.OidcClient=pt});var ao=A(we=>{"use strict";var io=we&&we.__awaiter||function(t,e,n,i){function s(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function f(d){try{p(i.next(d))}catch(y){l(y)}}function m(d){try{p(i.throw(d))}catch(y){l(y)}}function p(d){d.done?a(d.value):s(d.value).then(f,m)}p((i=i.apply(t,e||[])).next())})};Object.defineProperty(we,"__esModule",{value:!0});we.summary=we.markdownSummary=we.SUMMARY_DOCS_URL=we.SUMMARY_ENV_VAR=void 0;var Lm=require("os"),oo=require("fs"),{access:Im,appendFile:Wm,writeFile:xm}=oo.promises;we.SUMMARY_ENV_VAR="GITHUB_STEP_SUMMARY";we.SUMMARY_DOCS_URL="https://docs.github.com/actions/using-workflows/workflow-commands-for-github-actions#adding-a-job-summary";var so=class{constructor(){this._buffer=""}filePath(){return io(this,void 0,void 0,function*(){if(this._filePath)return this._filePath;let e=process.env[we.SUMMARY_ENV_VAR];if(!e)throw new Error(`Unable to find environment variable for $${we.SUMMARY_ENV_VAR}. Check if your runtime environment supports job summaries.`);try{yield Im(e,oo.constants.R_OK|oo.constants.W_OK)}catch{throw new Error(`Unable to access summary file: '${e}'. Check if the file has correct read/write permissions.`)}return this._filePath=e,this._filePath})}wrap(e,n,i={}){let s=Object.entries(i).map(([a,l])=>` ${a}="${l}"`).join("");return n?`<${e}${s}>${n}</${e}>`:`<${e}${s}>`}write(e){return io(this,void 0,void 0,function*(){let n=!!(e!=null&&e.overwrite),i=yield this.filePath();return yield(n?xm:Wm)(i,this._buffer,{encoding:"utf8"}),this.emptyBuffer()})}clear(){return io(this,void 0,void 0,function*(){return this.emptyBuffer().write({overwrite:!0})})}stringify(){return this._buffer}isEmptyBuffer(){return this._buffer.length===0}emptyBuffer(){return this._buffer="",this}addRaw(e,n=!1){return this._buffer+=e,n?this.addEOL():this}addEOL(){return this.addRaw(Lm.EOL)}addCodeBlock(e,n){let i=Object.assign({},n&&{lang:n}),s=this.wrap("pre",this.wrap("code",e),i);return this.addRaw(s).addEOL()}addList(e,n=!1){let i=n?"ol":"ul",s=e.map(l=>this.wrap("li",l)).join(""),a=this.wrap(i,s);return this.addRaw(a).addEOL()}addTable(e){let n=e.map(s=>{let a=s.map(l=>{if(typeof l=="string")return this.wrap("td",l);let{header:f,data:m,colspan:p,rowspan:d}=l,y=f?"th":"td",S=Object.assign(Object.assign({},p&&{colspan:p}),d&&{rowspan:d});return this.wrap(y,m,S)}).join("");return this.wrap("tr",a)}).join(""),i=this.wrap("table",n);return this.addRaw(i).addEOL()}addDetails(e,n){let i=this.wrap("details",this.wrap("summary",e)+n);return this.addRaw(i).addEOL()}addImage(e,n,i){let{width:s,height:a}=i||{},l=Object.assign(Object.assign({},s&&{width:s}),a&&{height:a}),f=this.wrap("img",null,Object.assign({src:e,alt:n},l));return this.addRaw(f).addEOL()}addHeading(e,n){let i=`h${n}`,s=["h1","h2","h3","h4","h5","h6"].includes(i)?i:"h1",a=this.wrap(s,e);return this.addRaw(a).addEOL()}addSeparator(){let e=this.wrap("hr",null);return this.addRaw(e).addEOL()}addBreak(){let e=this.wrap("br",null);return this.addRaw(e).addEOL()}addQuote(e,n){let i=Object.assign({},n&&{cite:n}),s=this.wrap("blockquote",e,i);return this.addRaw(s).addEOL()}addLink(e,n){let i=this.wrap("a",e,{href:n});return this.addRaw(i).addEOL()}},Wl=new so;we.markdownSummary=Wl;we.summary=Wl});var no=A(v=>{"use strict";var Nm=v&&v.__createBinding||(Object.create?function(t,e,n,i){i===void 0&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){i===void 0&&(i=n),t[i]=e[n]}),Mm=v&&v.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),xl=v&&v.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.hasOwnProperty.call(t,n)&&Nm(e,t,n);return Mm(e,t),e},Nl=v&&v.__awaiter||function(t,e,n,i){function s(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function f(d){try{p(i.next(d))}catch(y){l(y)}}function m(d){try{p(i.throw(d))}catch(y){l(y)}}function p(d){d.done?a(d.value):s(d.value).then(f,m)}p((i=i.apply(t,e||[])).next())})};Object.defineProperty(v,"__esModule",{value:!0});v.getIDToken=v.getState=v.saveState=v.group=v.endGroup=v.startGroup=v.info=v.notice=v.warning=v.error=v.debug=v.isDebug=v.setFailed=v.setCommandEcho=v.setOutput=v.getBooleanInput=v.getMultilineInput=v.getInput=v.addPath=v.setSecret=v.exportVariable=v.ExitCode=void 0;var Ae=Sl(),Ml=Rl(),zn=Wn(),Un=xl(require("os")),$m=xl(require("path")),jm=Il(),$l;(function(t){t[t.Success=0]="Success",t[t.Failure=1]="Failure"})($l=v.ExitCode||(v.ExitCode={}));function Um(t,e){let n=zn.toCommandValue(e);if(process.env[t]=n,process.env.GITHUB_ENV||""){let s="_GitHubActionsFileCommandDelimeter_",a=`${t}<<${s}${Un.EOL}${n}${Un.EOL}${s}`;Ml.issueCommand("ENV",a)}else Ae.issueCommand("set-env",{name:t},n)}v.exportVariable=Um;function zm(t){Ae.issueCommand("add-mask",{},t)}v.setSecret=zm;function Hm(t){process.env.GITHUB_PATH||""?Ml.issueCommand("PATH",t):Ae.issueCommand("add-path",{},t),process.env.PATH=`${t}${$m.delimiter}${process.env.PATH}`}v.addPath=Hm;function uo(t,e){let n=process.env[`INPUT_${t.replace(/ /g,"_").toUpperCase()}`]||"";if(e&&e.required&&!n)throw new Error(`Input required and not supplied: ${t}`);return e&&e.trimWhitespace===!1?n:n.trim()}v.getInput=uo;function Vm(t,e){return uo(t,e).split(`
`).filter(i=>i!=="")}v.getMultilineInput=Vm;function Ym(t,e){let n=["true","True","TRUE"],i=["false","False","FALSE"],s=uo(t,e);if(n.includes(s))return!0;if(i.includes(s))return!1;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${t}
Support boolean input list: \`true | True | TRUE | false | False | FALSE\``)}v.getBooleanInput=Ym;function Gm(t,e){process.stdout.write(Un.EOL),Ae.issueCommand("set-output",{name:t},e)}v.setOutput=Gm;function Qm(t){Ae.issue("echo",t?"on":"off")}v.setCommandEcho=Qm;function Jm(t){process.exitCode=$l.Failure,jl(t)}v.setFailed=Jm;function Km(){return process.env.RUNNER_DEBUG==="1"}v.isDebug=Km;function Xm(t){Ae.issueCommand("debug",{},t)}v.debug=Xm;function jl(t,e={}){Ae.issueCommand("error",zn.toCommandProperties(e),t instanceof Error?t.toString():t)}v.error=jl;function Zm(t,e={}){Ae.issueCommand("warning",zn.toCommandProperties(e),t instanceof Error?t.toString():t)}v.warning=Zm;function ep(t,e={}){Ae.issueCommand("notice",zn.toCommandProperties(e),t instanceof Error?t.toString():t)}v.notice=ep;function tp(t){process.stdout.write(t+Un.EOL)}v.info=tp;function Ul(t){Ae.issue("group",t)}v.startGroup=Ul;function zl(){Ae.issue("endgroup")}v.endGroup=zl;function rp(t,e){return Nl(this,void 0,void 0,function*(){Ul(t);let n;try{n=yield e()}finally{zl()}return n})}v.group=rp;function np(t,e){Ae.issueCommand("save-state",{name:t},e)}v.saveState=np;function ip(t){return process.env[`STATE_${t}`]||""}v.getState=ip;function op(t){return Nl(this,void 0,void 0,function*(){return yield jm.OidcClient.getIDToken(t)})}v.getIDToken=op;var sp=ao();Object.defineProperty(v,"summary",{enumerable:!0,get:function(){return sp.summary}});var ap=ao();Object.defineProperty(v,"markdownSummary",{enumerable:!0,get:function(){return ap.markdownSummary}})});var ta=Fe(require("node:http"),1),ra=Fe(require("node:https"),1),Tt=Fe(require("node:zlib"),1),ve=Fe(require("node:stream"),1),_r=require("node:buffer");function Ef(t){if(!/^data:/i.test(t))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');t=t.replace(/\r?\n/g,"");let e=t.indexOf(",");if(e===-1||e<=4)throw new TypeError("malformed data: URI");let n=t.substring(5,e).split(";"),i="",s=!1,a=n[0]||"text/plain",l=a;for(let d=1;d<n.length;d++)n[d]==="base64"?s=!0:(l+=`;${n[d]}`,n[d].indexOf("charset=")===0&&(i=n[d].substring(8)));!n[0]&&!i.length&&(l+=";charset=US-ASCII",i="US-ASCII");let f=s?"base64":"ascii",m=unescape(t.substring(e+1)),p=Buffer.from(m,f);return p.type=a,p.typeFull=l,p.charset=i,p}var vs=Ef;var Pe=Fe(require("node:stream"),1),Je=require("node:util"),Ee=require("node:buffer");mr();dn();var Qe=class extends Error{constructor(e,n){super(e),Error.captureStackTrace(this,this.constructor),this.type=n}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}};var pe=class extends Qe{constructor(e,n,i){super(e,n),i&&(this.code=this.errno=i.code,this.erroredSysCall=i.syscall)}};var hn=Symbol.toStringTag,Pi=t=>typeof t=="object"&&typeof t.append=="function"&&typeof t.delete=="function"&&typeof t.get=="function"&&typeof t.getAll=="function"&&typeof t.has=="function"&&typeof t.set=="function"&&typeof t.sort=="function"&&t[hn]==="URLSearchParams",yr=t=>t&&typeof t=="object"&&typeof t.arrayBuffer=="function"&&typeof t.type=="string"&&typeof t.stream=="function"&&typeof t.constructor=="function"&&/^(Blob|File)$/.test(t[hn]),Fs=t=>typeof t=="object"&&(t[hn]==="AbortSignal"||t[hn]==="EventTarget"),Bs=(t,e)=>{let n=new URL(e).hostname,i=new URL(t).hostname;return n===i||n.endsWith(`.${i}`)};var xf=(0,Je.promisify)(Pe.default.pipeline),ye=Symbol("Body internals"),$e=class{constructor(e,{size:n=0}={}){let i=null;e===null?e=null:Pi(e)?e=Ee.Buffer.from(e.toString()):yr(e)||Ee.Buffer.isBuffer(e)||(Je.types.isAnyArrayBuffer(e)?e=Ee.Buffer.from(e):ArrayBuffer.isView(e)?e=Ee.Buffer.from(e.buffer,e.byteOffset,e.byteLength):e instanceof Pe.default||(e instanceof Et?(e=Ds(e),i=e.type.split("=")[1]):e=Ee.Buffer.from(String(e))));let s=e;Ee.Buffer.isBuffer(e)?s=Pe.default.Readable.from(e):yr(e)&&(s=Pe.default.Readable.from(e.stream())),this[ye]={body:e,stream:s,boundary:i,disturbed:!1,error:null},this.size=n,e instanceof Pe.default&&e.on("error",a=>{let l=a instanceof Qe?a:new pe(`Invalid response body while trying to fetch ${this.url}: ${a.message}`,"system",a);this[ye].error=l})}get body(){return this[ye].stream}get bodyUsed(){return this[ye].disturbed}async arrayBuffer(){let{buffer:e,byteOffset:n,byteLength:i}=await Oi(this);return e.slice(n,n+i)}async formData(){let e=this.headers.get("content-type");if(e.startsWith("application/x-www-form-urlencoded")){let i=new Et,s=new URLSearchParams(await this.text());for(let[a,l]of s)i.append(a,l);return i}let{toFormData:n}=await Promise.resolve().then(()=>(Ms(),Ns));return n(this.body,e)}async blob(){let e=this.headers&&this.headers.get("content-type")||this[ye].body&&this[ye].body.type||"",n=await this.arrayBuffer();return new Ge([n],{type:e})}async json(){let e=await this.text();return JSON.parse(e)}async text(){let e=await Oi(this);return new TextDecoder().decode(e)}buffer(){return Oi(this)}};$e.prototype.buffer=(0,Je.deprecate)($e.prototype.buffer,"Please use 'response.arrayBuffer()' instead of 'response.buffer()'","node-fetch#buffer");Object.defineProperties($e.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0},data:{get:(0,Je.deprecate)(()=>{},"data doesn't exist, use json(), text(), arrayBuffer(), or body instead","https://github.com/node-fetch/node-fetch/issues/1000 (response)")}});async function Oi(t){if(t[ye].disturbed)throw new TypeError(`body used already for: ${t.url}`);if(t[ye].disturbed=!0,t[ye].error)throw t[ye].error;let{body:e}=t;if(e===null)return Ee.Buffer.alloc(0);if(!(e instanceof Pe.default))return Ee.Buffer.alloc(0);let n=[],i=0;try{for await(let s of e){if(t.size>0&&i+s.length>t.size){let a=new pe(`content size at ${t.url} over limit: ${t.size}`,"max-size");throw e.destroy(a),a}i+=s.length,n.push(s)}}catch(s){throw s instanceof Qe?s:new pe(`Invalid response body while trying to fetch ${t.url}: ${s.message}`,"system",s)}if(e.readableEnded===!0||e._readableState.ended===!0)try{return n.every(s=>typeof s=="string")?Ee.Buffer.from(n.join("")):Ee.Buffer.concat(n,i)}catch(s){throw new pe(`Could not create Buffer from response body for ${t.url}: ${s.message}`,"system",s)}else throw new pe(`Premature close of server response while trying to fetch ${t.url}`)}var $t=(t,e)=>{let n,i,{body:s}=t[ye];if(t.bodyUsed)throw new Error("cannot clone body after it is used");return s instanceof Pe.default&&typeof s.getBoundary!="function"&&(n=new Pe.PassThrough({highWaterMark:e}),i=new Pe.PassThrough({highWaterMark:e}),s.pipe(n),s.pipe(i),t[ye].stream=n,s=i),s},Nf=(0,Je.deprecate)(t=>t.getBoundary(),"form-data doesn't follow the spec and requires special treatment. Use alternative package","https://github.com/node-fetch/node-fetch/issues/1167"),bn=(t,e)=>t===null?null:typeof t=="string"?"text/plain;charset=UTF-8":Pi(t)?"application/x-www-form-urlencoded;charset=UTF-8":yr(t)?t.type||null:Ee.Buffer.isBuffer(t)||Je.types.isAnyArrayBuffer(t)||ArrayBuffer.isView(t)?null:t instanceof Et?`multipart/form-data; boundary=${e[ye].boundary}`:t&&typeof t.getBoundary=="function"?`multipart/form-data;boundary=${Nf(t)}`:t instanceof Pe.default?null:"text/plain;charset=UTF-8",$s=t=>{let{body:e}=t[ye];return e===null?0:yr(e)?e.size:Ee.Buffer.isBuffer(e)?e.length:e&&typeof e.getLengthSync=="function"&&e.hasKnownLength&&e.hasKnownLength()?e.getLengthSync():null},js=async(t,{body:e})=>{e===null?t.end():await xf(e,t)};var ki=require("node:util"),Sr=Fe(require("node:http"),1),gn=typeof Sr.default.validateHeaderName=="function"?Sr.default.validateHeaderName:t=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(t)){let e=new TypeError(`Header name must be a valid HTTP token [${t}]`);throw Object.defineProperty(e,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),e}},qi=typeof Sr.default.validateHeaderValue=="function"?Sr.default.validateHeaderValue:(t,e)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(e)){let n=new TypeError(`Invalid character in header content ["${t}"]`);throw Object.defineProperty(n,"code",{value:"ERR_INVALID_CHAR"}),n}},be=class extends URLSearchParams{constructor(e){let n=[];if(e instanceof be){let i=e.raw();for(let[s,a]of Object.entries(i))n.push(...a.map(l=>[s,l]))}else if(e!=null)if(typeof e=="object"&&!ki.types.isBoxedPrimitive(e)){let i=e[Symbol.iterator];if(i==null)n.push(...Object.entries(e));else{if(typeof i!="function")throw new TypeError("Header pairs must be iterable");n=[...e].map(s=>{if(typeof s!="object"||ki.types.isBoxedPrimitive(s))throw new TypeError("Each header pair must be an iterable object");return[...s]}).map(s=>{if(s.length!==2)throw new TypeError("Each header pair must be a name/value tuple");return[...s]})}}else throw new TypeError("Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)");return n=n.length>0?n.map(([i,s])=>(gn(i),qi(i,String(s)),[String(i).toLowerCase(),String(s)])):void 0,super(n),new Proxy(this,{get(i,s,a){switch(s){case"append":case"set":return(l,f)=>(gn(l),qi(l,String(f)),URLSearchParams.prototype[s].call(i,String(l).toLowerCase(),String(f)));case"delete":case"has":case"getAll":return l=>(gn(l),URLSearchParams.prototype[s].call(i,String(l).toLowerCase()));case"keys":return()=>(i.sort(),new Set(URLSearchParams.prototype.keys.call(i)).keys());default:return Reflect.get(i,s,a)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(e){let n=this.getAll(e);if(n.length===0)return null;let i=n.join(", ");return/^content-encoding$/i.test(e)&&(i=i.toLowerCase()),i}forEach(e,n=void 0){for(let i of this.keys())Reflect.apply(e,n,[this.get(i),i,this])}*values(){for(let e of this.keys())yield this.get(e)}*entries(){for(let e of this.keys())yield[e,this.get(e)]}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce((e,n)=>(e[n]=this.getAll(n),e),{})}[Symbol.for("nodejs.util.inspect.custom")](){return[...this.keys()].reduce((e,n)=>{let i=this.getAll(n);return n==="host"?e[n]=i[0]:e[n]=i.length>1?i:i[0],e},{})}};Object.defineProperties(be.prototype,["get","entries","forEach","values"].reduce((t,e)=>(t[e]={enumerable:!0},t),{}));function Us(t=[]){return new be(t.reduce((e,n,i,s)=>(i%2===0&&e.push(s.slice(i,i+2)),e),[]).filter(([e,n])=>{try{return gn(e),qi(e,String(n)),!0}catch{return!1}}))}var Mf=new Set([301,302,303,307,308]),Sn=t=>Mf.has(t);var Be=Symbol("Response internals"),ae=class extends $e{constructor(e=null,n={}){super(e,n);let i=n.status!=null?n.status:200,s=new be(n.headers);if(e!==null&&!s.has("Content-Type")){let a=bn(e,this);a&&s.append("Content-Type",a)}this[Be]={type:"default",url:n.url,status:i,statusText:n.statusText||"",headers:s,counter:n.counter,highWaterMark:n.highWaterMark}}get type(){return this[Be].type}get url(){return this[Be].url||""}get status(){return this[Be].status}get ok(){return this[Be].status>=200&&this[Be].status<300}get redirected(){return this[Be].counter>0}get statusText(){return this[Be].statusText}get headers(){return this[Be].headers}get highWaterMark(){return this[Be].highWaterMark}clone(){return new ae($t(this,this.highWaterMark),{type:this.type,url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,size:this.size,highWaterMark:this.highWaterMark})}static redirect(e,n=302){if(!Sn(n))throw new RangeError('Failed to execute "redirect" on "response": Invalid status code');return new ae(null,{headers:{location:new URL(e).toString()},status:n})}static error(){let e=new ae(null,{status:0,statusText:""});return e[Be].type="error",e}get[Symbol.toStringTag](){return"Response"}};Object.defineProperties(ae.prototype,{type:{enumerable:!0},url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});var Xs=require("node:url"),Zs=require("node:util");var zs=t=>{if(t.search)return t.search;let e=t.href.length-1,n=t.hash||(t.href[e]==="#"?"#":"");return t.href[e-n.length]==="?"?"?":""};var Vs=require("node:net");function Hs(t,e=!1){return t==null||(t=new URL(t),/^(about|blob|data):$/.test(t.protocol))?"no-referrer":(t.username="",t.password="",t.hash="",e&&(t.pathname="",t.search=""),t)}var Ys=new Set(["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"]),Gs="strict-origin-when-cross-origin";function Qs(t){if(!Ys.has(t))throw new TypeError(`Invalid referrerPolicy: ${t}`);return t}function $f(t){if(/^(http|ws)s:$/.test(t.protocol))return!0;let e=t.host.replace(/(^\[)|(]$)/g,""),n=(0,Vs.isIP)(e);return n===4&&/^127\./.test(e)||n===6&&/^(((0+:){7})|(::(0+:){0,6}))0*1$/.test(e)?!0:/^(.+\.)*localhost$/.test(t.host)?!1:t.protocol==="file:"}function jt(t){return/^about:(blank|srcdoc)$/.test(t)||t.protocol==="data:"||/^(blob|filesystem):$/.test(t.protocol)?!0:$f(t)}function Js(t,{referrerURLCallback:e,referrerOriginCallback:n}={}){if(t.referrer==="no-referrer"||t.referrerPolicy==="")return null;let i=t.referrerPolicy;if(t.referrer==="about:client")return"no-referrer";let s=t.referrer,a=Hs(s),l=Hs(s,!0);a.toString().length>4096&&(a=l),e&&(a=e(a)),n&&(l=n(l));let f=new URL(t.url);switch(i){case"no-referrer":return"no-referrer";case"origin":return l;case"unsafe-url":return a;case"strict-origin":return jt(a)&&!jt(f)?"no-referrer":l.toString();case"strict-origin-when-cross-origin":return a.origin===f.origin?a:jt(a)&&!jt(f)?"no-referrer":l;case"same-origin":return a.origin===f.origin?a:"no-referrer";case"origin-when-cross-origin":return a.origin===f.origin?a:l;case"no-referrer-when-downgrade":return jt(a)&&!jt(f)?"no-referrer":a;default:throw new TypeError(`Invalid referrerPolicy: ${i}`)}}function Ks(t){let e=(t.get("referrer-policy")||"").split(/[,\s]+/),n="";for(let i of e)i&&Ys.has(i)&&(n=i);return n}var ne=Symbol("Request internals"),_n=t=>typeof t=="object"&&typeof t[ne]=="object",jf=(0,Zs.deprecate)(()=>{},".data is not a valid RequestInit property, use .body instead","https://github.com/node-fetch/node-fetch/issues/1000 (request)"),Ke=class extends $e{constructor(e,n={}){let i;if(_n(e)?i=new URL(e.url):(i=new URL(e),e={}),i.username!==""||i.password!=="")throw new TypeError(`${i} is an url with embedded credentials.`);let s=n.method||e.method||"GET";if(/^(delete|get|head|options|post|put)$/i.test(s)&&(s=s.toUpperCase()),"data"in n&&jf(),(n.body!=null||_n(e)&&e.body!==null)&&(s==="GET"||s==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body");let a=n.body?n.body:_n(e)&&e.body!==null?$t(e):null;super(a,{size:n.size||e.size||0});let l=new be(n.headers||e.headers||{});if(a!==null&&!l.has("Content-Type")){let p=bn(a,this);p&&l.set("Content-Type",p)}let f=_n(e)?e.signal:null;if("signal"in n&&(f=n.signal),f!=null&&!Fs(f))throw new TypeError("Expected signal to be an instanceof AbortSignal or EventTarget");let m=n.referrer==null?e.referrer:n.referrer;if(m==="")m="no-referrer";else if(m){let p=new URL(m);m=/^about:(\/\/)?client$/.test(p)?"client":p}else m=void 0;this[ne]={method:s,redirect:n.redirect||e.redirect||"follow",headers:l,parsedURL:i,signal:f,referrer:m},this.follow=n.follow===void 0?e.follow===void 0?20:e.follow:n.follow,this.compress=n.compress===void 0?e.compress===void 0?!0:e.compress:n.compress,this.counter=n.counter||e.counter||0,this.agent=n.agent||e.agent,this.highWaterMark=n.highWaterMark||e.highWaterMark||16384,this.insecureHTTPParser=n.insecureHTTPParser||e.insecureHTTPParser||!1,this.referrerPolicy=n.referrerPolicy||e.referrerPolicy||""}get method(){return this[ne].method}get url(){return(0,Xs.format)(this[ne].parsedURL)}get headers(){return this[ne].headers}get redirect(){return this[ne].redirect}get signal(){return this[ne].signal}get referrer(){if(this[ne].referrer==="no-referrer")return"";if(this[ne].referrer==="client")return"about:client";if(this[ne].referrer)return this[ne].referrer.toString()}get referrerPolicy(){return this[ne].referrerPolicy}set referrerPolicy(e){this[ne].referrerPolicy=Qs(e)}clone(){return new Ke(this)}get[Symbol.toStringTag](){return"Request"}};Object.defineProperties(Ke.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0},referrer:{enumerable:!0},referrerPolicy:{enumerable:!0}});var ea=t=>{let{parsedURL:e}=t[ne],n=new be(t[ne].headers);n.has("Accept")||n.set("Accept","*/*");let i=null;if(t.body===null&&/^(post|put)$/i.test(t.method)&&(i="0"),t.body!==null){let f=$s(t);typeof f=="number"&&!Number.isNaN(f)&&(i=String(f))}i&&n.set("Content-Length",i),t.referrerPolicy===""&&(t.referrerPolicy=Gs),t.referrer&&t.referrer!=="no-referrer"?t[ne].referrer=Js(t):t[ne].referrer="no-referrer",t[ne].referrer instanceof URL&&n.set("Referer",t.referrer),n.has("User-Agent")||n.set("User-Agent","node-fetch"),t.compress&&!n.has("Accept-Encoding")&&n.set("Accept-Encoding","gzip, deflate, br");let{agent:s}=t;typeof s=="function"&&(s=s(e)),!n.has("Connection")&&!s&&n.set("Connection","close");let a=zs(e),l={path:e.pathname+a,method:t.method,headers:n[Symbol.for("nodejs.util.inspect.custom")](),insecureHTTPParser:t.insecureHTTPParser,agent:s};return{parsedURL:e,options:l}};var wn=class extends Qe{constructor(e,n="aborted"){super(e,n)}};dn();Ci();var Uf=new Set(["data:","http:","https:"]);async function wr(t,e){return new Promise((n,i)=>{let s=new Ke(t,e),{parsedURL:a,options:l}=ea(s);if(!Uf.has(a.protocol))throw new TypeError(`node-fetch cannot load ${t}. URL scheme "${a.protocol.replace(/:$/,"")}" is not supported.`);if(a.protocol==="data:"){let g=vs(s.url),P=new ae(g,{headers:{"Content-Type":g.typeFull}});n(P);return}let f=(a.protocol==="https:"?ra.default:ta.default).request,{signal:m}=s,p=null,d=()=>{let g=new wn("The operation was aborted.");i(g),s.body&&s.body instanceof ve.default.Readable&&s.body.destroy(g),!(!p||!p.body)&&p.body.emit("error",g)};if(m&&m.aborted){d();return}let y=()=>{d(),b()},S=f(a.toString(),l);m&&m.addEventListener("abort",y);let b=()=>{S.abort(),m&&m.removeEventListener("abort",y)};S.on("error",g=>{i(new pe(`request to ${s.url} failed, reason: ${g.message}`,"system",g)),b()}),zf(S,g=>{p.body.destroy(g)}),process.version<"v14"&&S.on("socket",g=>{let P;g.prependListener("end",()=>{P=g._eventsCount}),g.prependListener("close",E=>{if(p&&P<g._eventsCount&&!E){let T=new Error("Premature close");T.code="ERR_STREAM_PREMATURE_CLOSE",p.body.emit("error",T)}})}),S.on("response",g=>{S.setTimeout(0);let P=Us(g.rawHeaders);if(Sn(g.statusCode)){let F=P.get("Location"),J=null;try{J=F===null?null:new URL(F,s.url)}catch{if(s.redirect!=="manual"){i(new pe(`uri requested responds with an invalid redirect URL: ${F}`,"invalid-redirect")),b();return}}switch(s.redirect){case"error":i(new pe(`uri requested responds with a redirect, redirect mode is set to error: ${s.url}`,"no-redirect")),b();return;case"manual":break;case"follow":{if(J===null)break;if(s.counter>=s.follow){i(new pe(`maximum redirect reached at: ${s.url}`,"max-redirect")),b();return}let W={headers:new be(s.headers),follow:s.follow,counter:s.counter+1,agent:s.agent,compress:s.compress,method:s.method,body:$t(s),signal:s.signal,size:s.size,referrer:s.referrer,referrerPolicy:s.referrerPolicy};if(!Bs(s.url,J))for(let oe of["authorization","www-authenticate","cookie","cookie2"])W.headers.delete(oe);if(g.statusCode!==303&&s.body&&e.body instanceof ve.default.Readable){i(new pe("Cannot follow redirect with body being a readable stream","unsupported-redirect")),b();return}(g.statusCode===303||(g.statusCode===301||g.statusCode===302)&&s.method==="POST")&&(W.method="GET",W.body=void 0,W.headers.delete("content-length"));let xe=Ks(P);xe&&(W.referrerPolicy=xe),n(wr(new Ke(J,W))),b();return}default:return i(new TypeError(`Redirect option '${s.redirect}' is not a valid value of RequestRedirect`))}}m&&g.once("end",()=>{m.removeEventListener("abort",y)});let E=(0,ve.pipeline)(g,new ve.PassThrough,F=>{F&&i(F)});process.version<"v12.10"&&g.on("aborted",y);let T={url:s.url,status:g.statusCode,statusText:g.statusMessage,headers:P,size:s.size,counter:s.counter,highWaterMark:s.highWaterMark},D=P.get("Content-Encoding");if(!s.compress||s.method==="HEAD"||D===null||g.statusCode===204||g.statusCode===304){p=new ae(E,T),n(p);return}let M={flush:Tt.default.Z_SYNC_FLUSH,finishFlush:Tt.default.Z_SYNC_FLUSH};if(D==="gzip"||D==="x-gzip"){E=(0,ve.pipeline)(E,Tt.default.createGunzip(M),F=>{F&&i(F)}),p=new ae(E,T),n(p);return}if(D==="deflate"||D==="x-deflate"){let F=(0,ve.pipeline)(g,new ve.PassThrough,J=>{J&&i(J)});F.once("data",J=>{(J[0]&15)===8?E=(0,ve.pipeline)(E,Tt.default.createInflate(),W=>{W&&i(W)}):E=(0,ve.pipeline)(E,Tt.default.createInflateRaw(),W=>{W&&i(W)}),p=new ae(E,T),n(p)}),F.once("end",()=>{p||(p=new ae(E,T),n(p))});return}if(D==="br"){E=(0,ve.pipeline)(E,Tt.default.createBrotliDecompress(),F=>{F&&i(F)}),p=new ae(E,T),n(p);return}p=new ae(E,T),n(p)}),js(S,s).catch(i)})}function zf(t,e){let n=_r.Buffer.from(`0\r
\r
`),i=!1,s=!1,a;t.on("response",l=>{let{headers:f}=l;i=f["transfer-encoding"]==="chunked"&&!f["content-length"]}),t.on("socket",l=>{let f=()=>{if(i&&!s){let p=new Error("Premature close");p.code="ERR_STREAM_PREMATURE_CLOSE",e(p)}},m=p=>{s=_r.Buffer.compare(p.slice(-5),n)===0,!s&&a&&(s=_r.Buffer.compare(a.slice(-3),n.slice(0,3))===0&&_r.Buffer.compare(p.slice(-2),n.slice(3))===0),a=p};l.prependListener("close",f),l.on("data",m),t.on("close",()=>{l.removeListener("close",f),l.removeListener("data",m)})})}var Hf="https://api.figma.com/v1",na=(t,e)=>wr(`${Hf}${e}`,{headers:{"X-Figma-Token":t}}),ia=async(t,e)=>{let n=await na(t,`/files/${e}`),{components:i}=await n.json();return i},oa=async(t,e,n)=>{let i=Object.keys(n),s=i.join(),l=await(await na(t,`/images/${e}?ids=${s}&format=svg`)).json();return i.map(m=>{let{name:p}=n[m],d=l.images[m];return{name:p,link:d}})},sa=async t=>await(await wr(t,{headers:{"Content-Type":"image/svg+xml"}})).text();var lo=Fe(pl()),Hl=Fe(require("path")),Hn=Fe(no()),up=async()=>{let t=Hn.getInput("token"),e=Hn.getInput("id"),n=Hn.getInput("output"),i=await ia(t,e),a=(await oa(t,e,i)).map(async l=>{let f=await sa(l.link),m=Hl.default.join(n,`${l.name}.svg`);await lo.default.ensureFile(m),await lo.default.writeFile(m,f)});await Promise.all(a)};up();
/*! fetch-blob. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> */
/*! formdata-polyfill. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> */
/*! node-domexception. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> */
